"use strict";(self.webpackChunkyearn_docs=self.webpackChunkyearn_docs||[]).push([[2972],{3905:function(t,e,n){n.d(e,{Zo:function(){return p},kt:function(){return c}});var a=n(7294);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e){if(null==t)return{};var n,a,l=function(t,e){if(null==t)return{};var n,a,l={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(l[n]=t[n]);return l}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}var u=a.createContext({}),o=function(t){var e=a.useContext(u),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},p=function(t){var e=o(t.components);return a.createElement(u.Provider,{value:e},t.children)},s={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},k=a.forwardRef((function(t,e){var n=t.components,l=t.mdxType,r=t.originalType,u=t.parentName,p=d(t,["components","mdxType","originalType","parentName"]),k=o(n),c=l,m=k["".concat(u,".").concat(c)]||k[c]||s[c]||r;return n?a.createElement(m,i(i({ref:e},p),{},{components:n})):a.createElement(m,i({ref:e},p))}));function c(t,e){var n=arguments,l=e&&e.mdxType;if("string"==typeof t||l){var r=n.length,i=new Array(r);i[0]=k;var d={};for(var u in e)hasOwnProperty.call(e,u)&&(d[u]=e[u]);d.originalType=t,d.mdxType="string"==typeof t?t:l,i[1]=d;for(var o=2;o<r;o++)i[o]=n[o];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},4998:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return i},contentTitle:function(){return d},metadata:function(){return u},toc:function(){return o},default:function(){return s}});var a=n(7462),l=n(3366),r=(n(7294),n(3905)),i={description:"This documentation only covers v1 vaults."},d="v1 yVault Interfaces",u={unversionedId:"interfaces",id:"interfaces",isDocsHomePage:!1,title:"v1 yVault Interfaces",description:"This documentation only covers v1 vaults.",source:"@site/docs/developers/v1/interfaces.md",sourceDirName:".",slug:"/interfaces",permalink:"/yearn-devdocs/v1/interfaces",tags:[],version:"current",lastUpdatedBy:"KurogeWashu",lastUpdatedAt:1633935865,formattedLastUpdatedAt:"10/11/2021",frontMatter:{description:"This documentation only covers v1 vaults."},sidebar:"mySidebar",next:{title:"v1 Vaults Overview",permalink:"/yearn-devdocs/v1/introduction"}},o=[{value:"IStrategy",id:"istrategy",children:[{value:"function <code>want()</code>",id:"function-want",children:[]},{value:"function <code>deposit()</code>",id:"function-deposit",children:[]},{value:"func <code>withdraw(address)</code>",id:"func-withdrawaddress",children:[]},{value:"function <code>withdraw(uint256)</code>",id:"function-withdrawuint256",children:[]},{value:"function <code>skim()</code>",id:"function-skim",children:[]},{value:"function <code>withdrawAll()</code>",id:"function-withdrawall",children:[]},{value:"function <code>balanceOf()</code>",id:"function-balanceof",children:[]}]},{value:"IVault",id:"ivault",children:[{value:"function <code>token()</code>",id:"function-token",children:[]},{value:"function <code>underlying()</code>",id:"function-underlying",children:[]},{value:"function <code>name()</code>",id:"function-name",children:[]},{value:"function <code>symbol()</code>",id:"function-symbol",children:[]},{value:"function <code>decimals()</code>",id:"function-decimals",children:[]},{value:"func <code>controller()</code>",id:"func-controller",children:[]},{value:"function <code>governance()</code>",id:"function-governance",children:[]},{value:"function <code>getPricePerFullShare()</code>",id:"function-getpriceperfullshare",children:[]},{value:"function <code>deposit()</code>",id:"function-deposit-1",children:[]},{value:"function <code>depositAll()</code>",id:"function-depositall",children:[]},{value:"function <code>withdraw()</code>",id:"function-withdraw",children:[]},{value:"function <code>withdrawAll()</code>",id:"function-withdrawall-1",children:[]}]},{value:"IController",id:"icontroller",children:[{value:"function <code>withdraw()</code>",id:"function-withdraw-1",children:[]},{value:"function <code>balanceOf()</code>",id:"function-balanceof-1",children:[]},{value:"function <code>earn()</code>",id:"function-earn",children:[]},{value:"function <code>want()</code>",id:"function-want-1",children:[]},{value:"function <code>rewards()</code>",id:"function-rewards",children:[]},{value:"function <code>vaults()</code>",id:"function-vaults",children:[]},{value:"function <code>strategies()</code>",id:"function-strategies",children:[]}]}],p={toc:o};function s(t){var e=t.components,n=(0,l.Z)(t,["components"]);return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"v1-yvault-interfaces"},"v1 yVault Interfaces"),(0,r.kt)("h2",{id:"istrategy"},"IStrategy"),(0,r.kt)("p",null,"Source code: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yearn/yearn-protocol/blob/develop/interfaces/yearn/IStrategy.sol"},"yearn-protocol/develop/interfaces/yearn/IStrategy.sol")),(0,r.kt)("h3",{id:"function-want"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"want()")),(0,r.kt)("p",null,"Returns the address of the unwrapped token that the Strategy takes as deposit."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function want() external view returns (address);\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Output"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"address"),(0,r.kt)("td",{parentName:"tr",align:null},"Address of the token the Strategy takes as deposit")))),(0,r.kt)("h3",{id:"function-deposit"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"deposit()")),(0,r.kt)("p",null,"Deposits token (same as ",(0,r.kt)("inlineCode",{parentName:"p"},"want()")," returns) into a smart contact specified by the Strategy."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function deposit() external;\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("h3",{id:"func-withdrawaddress"},"func ",(0,r.kt)("inlineCode",{parentName:"h3"},"withdraw(address)")),(0,r.kt)("p",null,"Dust collecting function to create additional rewards out of tokens that were incorrectly sent to the Strategy."),(0,r.kt)("p",null,"Takes an ERC20 token address and should send the full amount of any such tokens in the Strategy to the Controller."),(0,r.kt)("p",null,"This function should have access control enforcing the Controller only to be its allowed caller, and checks in place to ensure that the token types to withdraw are not those used by the Strategy."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function withdraw(address) external;\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Input"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"address"),(0,r.kt)("td",{parentName:"tr",align:null},"ERC-20 token to be drained")))),(0,r.kt)("h3",{id:"function-withdrawuint256"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"withdraw(uint256)")),(0,r.kt)("p",null,"Partially withdraws funds (denominated in ",(0,r.kt)("inlineCode",{parentName:"p"},"want()")," token) from the Strategy, and should always only be sending these to the Vault. In case the Strategy implements ",(0,r.kt)("inlineCode",{parentName:"p"},"harvest()"),", a withdrawal fee may be applied. This function should have access control enforcing the Controller only to be its allowed caller."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function withdraw(uint256) external;\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Input"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"uint"),(0,r.kt)("td",{parentName:"tr",align:null},"Amount to be withdrawn")))),(0,r.kt)("h3",{id:"function-skim"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"skim()")),(0,r.kt)("p",null,"Used to obtain the remaining amount that can be borrowed from the lending platform. Relevant when the Strategy implements a lending platform, such as Aave."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function skim() external;\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("h3",{id:"function-withdrawall"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"withdrawAll()")),(0,r.kt)("p",null,"Withdraws the entire amount of ",(0,r.kt)("inlineCode",{parentName:"p"},"want()")," tokens available, and should always only be sending these to the Vault. This function should have access control enforcing the Controller only to be its allowed caller. Typically used when migrating strategies."),(0,r.kt)("p",null,"The function typically uses ",(0,r.kt)("inlineCode",{parentName:"p"},"withdraw()")," and performs a set of sequential function calls depending on the Strategy."),(0,r.kt)("p",null,"If the Strategy implements liquidity pools or lending platforms, then withdrawal from these platforms should be performed until the Vault\u2019s unwrapped token is delivered back to the vault."),(0,r.kt)("p",null,"Returns a ",(0,r.kt)("inlineCode",{parentName:"p"},"uint256")," of the total amount withdrawn."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function withdrawAll() external returns (uint256);\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Output"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"uint256"),(0,r.kt)("td",{parentName:"tr",align:null},"The amount withdrawn")))),(0,r.kt)("h3",{id:"function-balanceof"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"balanceOf()")),(0,r.kt)("p",null,"Returns the Strategy's current ",(0,r.kt)("inlineCode",{parentName:"p"},"want()")," token balance."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function balanceOf() external view returns (uint256);\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Output"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"uint256"),(0,r.kt)("td",{parentName:"tr",align:null},"Strategy's ",(0,r.kt)("inlineCode",{parentName:"td"},"want()")," token balance")))),(0,r.kt)("h2",{id:"ivault"},"IVault"),(0,r.kt)("p",null,"Source code: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yearn/yearn-protocol/blob/develop/interfaces/yearn/IVault.sol"},"yearn-protocol/develop/interfaces/yearn/IVault.sol")),(0,r.kt)("h3",{id:"function-token"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"token()")),(0,r.kt)("p",null,"Returns the unwrapped native token address that the Vault takes as deposit."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function token() external view returns (address);\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Output"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"address"),(0,r.kt)("td",{parentName:"tr",align:null},"Vault\u2019s unwrapped native token address")))),(0,r.kt)("h3",{id:"function-underlying"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"underlying()")),(0,r.kt)("p",null,"Returns the native underlying token address in Delegated Vaults. For example, in case of aLINK delegated vault, ",(0,r.kt)("inlineCode",{parentName:"p"},"underlying()")," returns the address of the LINK token."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"// This is only implemented in Delegated Vaults.\nfunction underlying() external view returns (address);\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Output"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"address"),(0,r.kt)("td",{parentName:"tr",align:null},"Delegated Vault\u2019s underlying native token address")))),(0,r.kt)("h3",{id:"function-name"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"name()")),(0,r.kt)("p",null,'Returns the vault\u2019s wrapped token name as a string, e.g. \u201cyearn Dai Stablecoin".'),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function name() external view returns (string memory);\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Output"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Vault\u2019s wrapped token name")))),(0,r.kt)("h3",{id:"function-symbol"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"symbol()")),(0,r.kt)("p",null,"Returns the vault\u2019s wrapped token symbol as a string, e.g. \u201cyDai\u201d."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function symbol() external view returns (string memory);\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Output"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Vault\u2019s wrapped token symbol")))),(0,r.kt)("h3",{id:"function-decimals"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"decimals()")),(0,r.kt)("p",null,"Returns the amount of decimals for this vault\u2019s wrapped token as a ",(0,r.kt)("inlineCode",{parentName:"p"},"uint8"),"."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function decimals() external view returns (uint8);\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Output"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"uint8"),(0,r.kt)("td",{parentName:"tr",align:null},"No of decimals of the vault's wrapped token.")))),(0,r.kt)("h3",{id:"func-controller"},"func ",(0,r.kt)("inlineCode",{parentName:"h3"},"controller()")),(0,r.kt)("p",null,"Returns the address of the Vault's Controller."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function controller() external view returns (address);\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Output"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"address"),(0,r.kt)("td",{parentName:"tr",align:null},"Vault\u2019s Controller contract")))),(0,r.kt)("h3",{id:"function-governance"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"governance()")),(0,r.kt)("p",null,"Returns the address of the Vault\u2019s governance contract."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function governance() external view returns (address);\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Output"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"address"),(0,r.kt)("td",{parentName:"tr",align:null},"Vault\u2019s Governance contract")))),(0,r.kt)("h3",{id:"function-getpriceperfullshare"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"getPricePerFullShare()")),(0,r.kt)("p",null,"Returns the price of the Vault\u2019s wrapped token, denominated in the unwrapped native token."),(0,r.kt)("p",null,"The calculation is:"),(0,r.kt)("p",null,"$$\n{nativeTokenBalance \\over yTokenTotalSupply}\n$$"),(0,r.kt)("p",null,"Where ",(0,r.kt)("inlineCode",{parentName:"p"},"nativeTokenBalance")," is the current balance of native token ","(","e.g. DAI",")"," in the Vault, Controller and Strategy contracts. And ",(0,r.kt)("inlineCode",{parentName:"p"},"yTokenTotalSupply")," is the total supply of the Vault's wrapped Token ","(","e.g. yDAI",")","."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function getPricePerFullShare() external view returns (uint256);\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Output"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"uint256"),(0,r.kt)("td",{parentName:"tr",align:null},"Price of the Vault\u2019s wrapped token denominated in the unwrapped native token")))),(0,r.kt)("h3",{id:"function-deposit-1"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"deposit()")),(0,r.kt)("p",null,"Deposits the specified amount of the native unwrapped token (same as ",(0,r.kt)("inlineCode",{parentName:"p"},"token()")," returns) into the Vault."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function deposit(uint256) external;\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Input"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"uint256"),(0,r.kt)("td",{parentName:"tr",align:null},"Amount to deposit into the Vault.")))),(0,r.kt)("h3",{id:"function-depositall"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"depositAll()")),(0,r.kt)("p",null,"Deposits the maximum available amount of the native unwrapped token (same as ",(0,r.kt)("inlineCode",{parentName:"p"},"token()")," returns) into the Vault."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function depositAll() external;\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("h3",{id:"function-withdraw"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"withdraw()")),(0,r.kt)("p",null,"Withdraws the specified amount of the native unwrapped token (same as ",(0,r.kt)("inlineCode",{parentName:"p"},"token()")," returns) from the Vault."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function withdraw(uint256) external;\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Input"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"uint256"),(0,r.kt)("td",{parentName:"tr",align:null},"Amount to withdraw from the Vault.")))),(0,r.kt)("h3",{id:"function-withdrawall-1"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"withdrawAll()")),(0,r.kt)("p",null,"Withdraws the maximum available amount of the native unwrapped token (same as ",(0,r.kt)("inlineCode",{parentName:"p"},"token()")," returns) from the Vault."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function withdrawAll() external;\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("h2",{id:"icontroller"},"IController"),(0,r.kt)("p",null,"Source code: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yearn/yearn-protocol/blob/develop/interfaces/yearn/IController.sol"},"yearn-protocol/develop/interfaces/yearn/IController.sol")),(0,r.kt)("h3",{id:"function-withdraw-1"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"withdraw()")),(0,r.kt)("p",null,"Calls ",(0,r.kt)("inlineCode",{parentName:"p"},"Strategy.withdraw()")," function for the amount defined in ",(0,r.kt)("inlineCode",{parentName:"p"},"unit256")," in the Strategy of the specified address. This function should have access control enforcing the Vault to be its only allowed caller."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function withdraw(address, uint256) external;\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Input"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"address"),(0,r.kt)("td",{parentName:"tr",align:null},"Address of the Strategy to withdraw from")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Input"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"uint256"),(0,r.kt)("td",{parentName:"tr",align:null},"Amount to withdraw")))),(0,r.kt)("h3",{id:"function-balanceof-1"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"balanceOf()")),(0,r.kt)("p",null,"Returns the Strategy's balance of the specified token."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function balanceOf(address) external view returns (uint256);\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Input"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"address"),(0,r.kt)("td",{parentName:"tr",align:null},"Token that is used in the Strategy")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Output"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"uint256"),(0,r.kt)("td",{parentName:"tr",align:null},"Balance of the specified token")))),(0,r.kt)("h3",{id:"function-earn"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"earn()")),(0,r.kt)("p",null,"Transfers the profits earned from the yield generating activities of the Strategy to the Vault. Takes an address of a token to withdraw and an amount."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function earn(address, uint256) external;\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Input"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"address"),(0,r.kt)("td",{parentName:"tr",align:null},"Token to be withdrawn to the Vault from the Strategy")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Input"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"uint256"),(0,r.kt)("td",{parentName:"tr",align:null},"Amount to be withdrawn")))),(0,r.kt)("h3",{id:"function-want-1"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"want()")),(0,r.kt)("p",null,'{% hint style="info" %}\nNot used by the currently deployed controller. Please refer to ',(0,r.kt)("a",{parentName:"p",href:"#function-want"},(0,r.kt)("inlineCode",{parentName:"a"},"Strategy.want()"))," instead.\n{% endhint %}"),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function want(address) external view returns (address);\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("h3",{id:"function-rewards"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"rewards()")),(0,r.kt)("p",null,"Returns the address of the Treasury which is where the system reward fees go."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function rewards() external view returns (address);\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Output"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"address"),(0,r.kt)("td",{parentName:"tr",align:null},"Treasury contract")))),(0,r.kt)("h3",{id:"function-vaults"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"vaults()")),(0,r.kt)("p",null,"Takes a token address and returns the corresponding Vault address."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function vaults(address) external view returns (address);\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Input"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"address"),(0,r.kt)("td",{parentName:"tr",align:null},"Token to find a Vault address for")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Output"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"address"),(0,r.kt)("td",{parentName:"tr",align:null},"Vault address that is associated with the specified token")))),(0,r.kt)("h3",{id:"function-strategies"},"function ",(0,r.kt)("inlineCode",{parentName:"h3"},"strategies()")),(0,r.kt)("p",null,"Takes a token address and returns the corresponding Strategy address."),(0,r.kt)("p",null,'{% tabs %}\n{% tab title="Solidity" %}'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function strategies(address) external view returns (address);\n")),(0,r.kt)("p",null,"{% endtab %}\n{% endtabs %}"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"type"),(0,r.kt)("th",{parentName:"tr",align:null},"desc"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Input"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"address"),(0,r.kt)("td",{parentName:"tr",align:null},"Token to find a Strategy address for")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Output"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"address"),(0,r.kt)("td",{parentName:"tr",align:null},"Strategy address that is associated with the specified token")))))}s.isMDXComponent=!0}}]);