<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.73">
<link rel="alternate" type="application/rss+xml" href="/yearn-devdocs/blog/rss.xml" title="Yearn.finance Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/yearn-devdocs/blog/atom.xml" title="Yearn.finance Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Yearn.finance" href="/yearn-devdocs/opensearch.xml"><title data-react-helmet="true">Yearn Lens | Yearn.finance</title><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/yearn-devdocs/v2/yearn-lens/yearn-lens"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="0.4.2"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-0.4.2"><meta data-react-helmet="true" property="og:title" content="Yearn Lens | Yearn.finance"><meta data-react-helmet="true" name="description" content="Yearn Lens is a series of smart contracts that aggregate and format Yearn family protocol data into standardized interfaces."><meta data-react-helmet="true" property="og:description" content="Yearn Lens is a series of smart contracts that aggregate and format Yearn family protocol data into standardized interfaces."><link data-react-helmet="true" rel="shortcut icon" href="/yearn-devdocs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/yearn-devdocs/v2/yearn-lens/yearn-lens"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/yearn-devdocs/v2/yearn-lens/yearn-lens" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/yearn-devdocs/v2/yearn-lens/yearn-lens" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://MUGPB5SQLX-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/yearn-devdocs/assets/css/styles.0e8db655.css">
<link rel="preload" href="/yearn-devdocs/assets/js/styles.2b3be0a4.js" as="script">
<link rel="preload" href="/yearn-devdocs/assets/js/runtime~main.59f2af67.js" as="script">
<link rel="preload" href="/yearn-devdocs/assets/js/main.aebb919c.js" as="script">
<link rel="preload" href="/yearn-devdocs/assets/js/1.913447f5.js" as="script">
<link rel="preload" href="/yearn-devdocs/assets/js/2.41de3f09.js" as="script">
<link rel="preload" href="/yearn-devdocs/assets/js/192.e1ccb2e5.js" as="script">
<link rel="preload" href="/yearn-devdocs/assets/js/195.e0413fa9.js" as="script">
<link rel="preload" href="/yearn-devdocs/assets/js/bbd5eca0.b6a7e464.js" as="script">
<link rel="preload" href="/yearn-devdocs/assets/js/17896441.b8468579.js" as="script">
<link rel="preload" href="/yearn-devdocs/assets/js/80d3d021.da799fc3.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/yearn-devdocs/"><img src="/yearn-devdocs/img/logo.svg" alt="YFI Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/yearn-devdocs/img/logo.svg" alt="YFI Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Yearn Finance</strong></a><a class="navbar__item navbar__link" href="/yearn-devdocs/getting-started/intro">Getting Started</a><a class="navbar__item navbar__link navbar__link--active" href="/yearn-devdocs/v2/getting-started">Developers</a><a class="navbar__item navbar__link" href="/yearn-devdocs/partners/introduction">Partners</a><a class="navbar__item navbar__link" href="/yearn-devdocs/contributing/contribute">Contributing</a><a class="navbar__item navbar__link" href="/yearn-devdocs/resources/faq">Resources</a><a class="navbar__item navbar__link" href="/yearn-devdocs/security/index">Security</a></div><div class="navbar__items navbar__items--right"><div class="searchWrapper_3rmH"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/yearn-devdocs/v2/getting-started">0.4.2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/yearn-devdocs/v2/next/DEPLOYMENT">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/yearn-devdocs/v2/yearn-lens/yearn-lens">0.4.2</a></li><li><a class="dropdown__link" href="/yearn-devdocs/v2/0.3.5/getting-started">0.3.5</a></li><li><a class="dropdown__link" href="/yearn-devdocs/v2/0.3.4/getting-started">0.3.4</a></li><li><a class="dropdown__link" href="/yearn-devdocs/v2/0.3.3/getting-started">0.3.3</a></li><li><a class="dropdown__link" href="/yearn-devdocs/v2/0.3.2/getting-started">0.3.2</a></li><li><a class="dropdown__link" href="/yearn-devdocs/v2/0.3.1/getting-started">0.3.1</a></li><li><a class="dropdown__link" href="/yearn-devdocs/v2/0.3.0/getting-started">0.3.0</a></li></ul></div><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/yearn-devdocs/"><img src="/yearn-devdocs/img/logo.svg" alt="YFI Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/yearn-devdocs/img/logo.svg" alt="YFI Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Yearn Finance</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/yearn-devdocs/getting-started/intro">Getting Started</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/yearn-devdocs/v2/getting-started">Developers</a></li><li class="menu__list-item"><a class="menu__link" href="/yearn-devdocs/partners/introduction">Partners</a></li><li class="menu__list-item"><a class="menu__link" href="/yearn-devdocs/contributing/contribute">Contributing</a></li><li class="menu__list-item"><a class="menu__link" href="/yearn-devdocs/resources/faq">Resources</a></li><li class="menu__list-item"><a class="menu__link" href="/yearn-devdocs/security/index">Security</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/yearn-devdocs/v2/next/DEPLOYMENT">Next</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/yearn-devdocs/v2/yearn-lens/yearn-lens">0.4.2</a></li><li class="menu__list-item"><a class="menu__link" href="/yearn-devdocs/v2/0.3.5/getting-started">0.3.5</a></li><li class="menu__list-item"><a class="menu__link" href="/yearn-devdocs/v2/0.3.4/getting-started">0.3.4</a></li><li class="menu__list-item"><a class="menu__link" href="/yearn-devdocs/v2/0.3.3/getting-started">0.3.3</a></li><li class="menu__list-item"><a class="menu__link" href="/yearn-devdocs/v2/0.3.2/getting-started">0.3.2</a></li><li class="menu__list-item"><a class="menu__link" href="/yearn-devdocs/v2/0.3.1/getting-started">0.3.1</a></li><li class="menu__list-item"><a class="menu__link" href="/yearn-devdocs/v2/0.3.0/getting-started">0.3.0</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/yearn-devdocs/"><img src="/yearn-devdocs/img/logo.svg" alt="YFI Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/yearn-devdocs/img/logo.svg" alt="YFI Logo" class="themedImage_1VuW themedImage--dark_hz6m"><strong>Yearn Finance</strong></a><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/yearn-devdocs/v2/getting-started">Getting Started with Vaults</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Processes and Procedures</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/process-and-procedures/deployment">Deploying a Vault and Strategy V2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/process-and-procedures/operations">Operations procedures</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/process-and-procedures/emergency">Emergency Procedures for Yearn Finance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/process-and-procedures/naming-convention">Naming Conventions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Smart Contracts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/BaseStrategy">BaseStrategy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/BaseStrategyInitializable">BaseStrategyInitializable</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/BaseWrapper">BaseWrapper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/IERC20Metadata">IERC20Metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/IWETH">IWETH</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/RegistryAPI">RegistryAPI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/StrategyAPI">StrategyAPI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/VaultAPI">VaultAPI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/registry">Registry.vy</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">test</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/test/AffiliateToken">AffiliateToken</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/test/TestGuestList">TestGuestList</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/test/TestStrategy">TestStrategy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/test/Token">Token</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/test/TokenFalseReturn">TokenFalseReturn</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/test/TokenNoReturn">TokenNoReturn</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">utils</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/utils/ProxyFactoryInitializable">ProxyFactoryInitializable</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/vault">Vault.vy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/yToken">yToken</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/smart-contracts/yWETH">yWETH</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Yearn SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/yearn-devdocs/v2/yearn-sdk/yearn-stack">Yearn Stack + FE Features</a></li><li class="menu__list-item"><a href="https://yearn.github.io/yearn-sdk/" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Autogenerated Documentation</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/yearn-devdocs/v2/yearn-api">Yearn API</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Yearn Lens</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/yearn-devdocs/v2/yearn-lens/yearn-lens">Yearn Lens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/yearn-devdocs/v2/yearn-lens/contracts">Deployed Lens Contracts</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div><span class="badge badge--secondary">Version: 0.4.2</span></div><header><h1 class="docTitle_3a4h">Yearn Lens</h1></header><div class="markdown"><p>Yearn Lens is a series of smart contracts that aggregate and format Yearn family protocol data into standardized interfaces.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="architecture"></a>Architecture<a class="hash-link" href="#architecture" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="block-diagram"></a>Block Diagram<a class="hash-link" href="#block-diagram" title="Direct link to heading">#</a></h3><p><img src="https://i.imgur.com/1Y5kcxY.png" alt="Chart"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="key-concepts"></a>Key Concepts<a class="hash-link" href="#key-concepts" title="Direct link to heading">#</a></h3><ul><li>Lens<ul><li>The lens contract acts as the primary data aggregator</li><li>Registry adapters can be added or removed from the lens contract</li><li>The lens contract supports many of the same methods as the registry adapters, but returns aggregated views across asset types</li></ul></li><li>Registry Adapters<ul><li>The purpose of registry adapters is to read data from various registries and return data in a standardized format</li><li>Currently registry adapters exist for:<ul><li>v1 Vaults</li><li>v2 Vaults</li><li>Earn</li><li>Iron Bank</li><li>veCrv</li></ul></li><li>All registry adapters must implement a standardized set of methods (details below)</li><li>Registry adapters have the ability to return metadata specific to an asset type (for example for vaults: <code>pricePerShare</code>, <code>controller</code>, etc.)</li></ul></li><li>Oracle<ul><li>The oracle contract is responsible for fetching price information from various sources</li><li>The oracle is intended for non-critical off-chain calculations<ul><li>TVL calculations</li><li>Token and asset balance normalizations</li><li>Not intended to be used with strategies or other contracts</li></ul></li><li>Prices are returned in USDC</li><li>Supports adding, removing and upgrading price calculations<ul><li>Currently supported calculations:<ul><li>Sushiswap market price (based on <code>getAmountsOut</code>)</li><li>Uniswap market price  (based on <code>getAmountsOut</code>)</li><li>Sushiswap/Uniswap LP token prices (based on <code>getReserves</code>)</li><li>Iron Bank market price (based on <code>exchangeRateStored</code>)</li><li>Curve LP token price (based on <code>virtualPrice</code> and base underlying token price)</li></ul></li></ul></li><li>The oracle contract itself is very lightweight<ul><li>A cascading fallback mechanism is utilized to fetch the most appropriate price for a given asset<ul><li>This means the majority of logic lives on calculation contracts</li><li>This also means the oracle contract gets direct access to all underlying calculation contract helper methods</li></ul></li></ul></li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="key-features"></a>Key Features<a class="hash-link" href="#key-features" title="Direct link to heading">#</a></h3><ul><li>Obtain all Yearn family asset data in a standardized interface</li><li>Obtain all user asset and token balances/allowances<ul><li>Ability to return USDC normalized balances as well as base asset balances</li></ul></li><li>Obtain various TVL calculations for Yearn<ul><li>Total TVL</li><li>TVL per asset type</li><li>TVL per asset</li></ul></li><li>Integration with all Yearn family protocols<ul><li>v1/v2 vaults</li><li>Iron Bank</li><li>Earn</li><li>VeCrv (base contract and pJar)</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="contracts"></a>Contracts<a class="hash-link" href="#contracts" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="registry-adapters"></a>Registry Adapters<a class="hash-link" href="#registry-adapters" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="schema"></a>Schema<a class="hash-link" href="#schema" title="Direct link to heading">#</a></h4><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="standardized-interfaces"></a>Standardized Interfaces<a class="hash-link" href="#standardized-interfaces" title="Direct link to heading">#</a></h5><p>All registry adapters are required to implement the following interfaces.</p><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="adaptermetadata"></a>AdapterMetadata<a class="hash-link" href="#adaptermetadata" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct AdapterMetadata {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string typeId;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string categoryId;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string subcategoryId;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="asset"></a>Asset<a class="hash-link" href="#asset" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct Asset {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address id;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string typeId;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string version;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 balance;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 balanceUsdc; // Asset TVL == balance * token.priceUsdc</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Token token;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    AssetMetadata metadata;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="assetstatic-static-not-connected"></a>AssetStatic (static) (not connected)<a class="hash-link" href="#assetstatic-static-not-connected" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct AssetStatic {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address id;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string typeId;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string version;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Token token;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="token-static-not-connected"></a>Token (static) (not connected)<a class="hash-link" href="#token-static-not-connected" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct Token {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address id;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string symbol;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint8 decimals;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">assetsStatic()</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  id</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x123...&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  typeId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;v2Vault&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;YFI Vault&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  version</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0.3.2&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  tokenId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x234...&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  token</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    id</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x234...&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;yearn.finance&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    symbol</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;YFI&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    decimals</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="assetdynamic-dynamic-not-connected"></a>AssetDynamic (dynamic) (not connected)<a class="hash-link" href="#assetdynamic-dynamic-not-connected" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct AssetDynamic {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address assetId;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address tokenId;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    AssetMetadata metadata;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    TokenAmount underlyingTokenBalance; // Amount of underlying token in the asset</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="tokenamount-dynamic"></a>TokenAmount (dynamic)<a class="hash-link" href="#tokenamount-dynamic" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct TokenAmount {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 amount;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 amountUsdc;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">assetsDynamic()</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  assetId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x123&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  tokenId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x456&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  metadata</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    pricePerShare</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;101000022394340034000&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  underlyingTokenBalance</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    amount</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;53233222334444334444&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// vault.totalAssets()</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    amountUsdc</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;3422233333445&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="position-dynamic-connected"></a>Position (dynamic) (connected)<a class="hash-link" href="#position-dynamic-connected" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct Position {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address assetId;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string typeId;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address tokenId;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 balance; // asset.balanceOf(account) - shares owned by user</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    TokenPostion underlyingTokenBalance; // Amount of underlying token in the asset that a user owns</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    TokenPosition accountTokenBalance; // Amount of underlying token a user owns</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Allowance[] tokenAllowances; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Allowance[] assetAllowances;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">positionsOf(account)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  assetId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x123&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  typeId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;deposit&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  tokenId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x545&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  balance</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;105344343435553&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// vault.balanceOf(account)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  underlyingTokenBalance</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    amount</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;53233222334444334444&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// vault.balanceOf(account) * pricePerShare</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    amountUsdc</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;3422233333445&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  accountTokenBalance</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    amount</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;4424424000238&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// token.balanceOf(account)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    amountUsdc</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;23323&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  tokenAllowances</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    owner</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x4800&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Account</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    spender</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x123&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Asset address</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    amount</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;115335543535353535235325325325235235325235425235&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  assetAllowances</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    owner</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x123&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Asset address</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    spender</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0x456&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Trusted migrator</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    amount</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;115335543535353535235325325325235235325235425235&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="position"></a>Position<a class="hash-link" href="#position" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct Position {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address assetId;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 balance;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 balanceUsdc;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    TokenPosition tokenPosition;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Allowance[] allowances;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="token"></a>Token<a class="hash-link" href="#token" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct Token {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address id;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string symbol;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint8 decimals;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 priceUsdc;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="tokenposition"></a>TokenPosition<a class="hash-link" href="#tokenposition" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct TokenPosition {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address tokenId;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 balance;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 balanceUsdc;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Allowance[] allowances;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct Allowance {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address owner;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address spender;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 allowance;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="adapter-specific-interfaces"></a>Adapter-specific Interfaces<a class="hash-link" href="#adapter-specific-interfaces" title="Direct link to heading">#</a></h5><p>Each registry adapter can export asset metadata that is specific to the asset type.</p><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="vault"></a>Vault<a class="hash-link" href="#vault" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">struct AssetMetadata {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    string symbol;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 pricePerShare;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bool migrationAvailable;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    address latestVaultAddress;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 depositLimit;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bool emergencyShutdown;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="earn"></a>Earn<a class="hash-link" href="#earn" title="Direct link to heading">#</a></h6><p><code>TBD</code></p><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="iron-bank"></a>Iron Bank<a class="hash-link" href="#iron-bank" title="Direct link to heading">#</a></h6><p><code>TBD</code></p><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="vecrv"></a>veCrv<a class="hash-link" href="#vecrv" title="Direct link to heading">#</a></h6><p><code>TBD</code></p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="methods"></a>Methods<a class="hash-link" href="#methods" title="Direct link to heading">#</a></h4><p>All registry adapters are required to implement the following methods.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="registryaddress"></a>registryAddress<a class="hash-link" href="#registryaddress" title="Direct link to heading">#</a></h5><p>Get the registry address associated with the adapter. The adapter pulls most information from the registry. <code>registryAddress</code> is defined in the adapter consturctor.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">address public registryAddress;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="assetslength"></a>assetsLength<a class="hash-link" href="#assetslength" title="Direct link to heading">#</a></h5><p>Get the number of assets the registry adapter is capable of returning.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">assetsLength</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> view </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>RETURN</code> Number of registry adapter assets</p><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="solidity"></a>Solidity<a class="hash-link" href="#solidity" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">RegistryAdapter registryAdapter = RegistryAdapter(0xABCD...);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">uint256 assetsLength = registryAdapter.assetsLength();</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="example-response"></a>Example Response<a class="hash-link" href="#example-response" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">32</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="positionspenderaddresses"></a>positionSpenderAddresses<a class="hash-link" href="#positionspenderaddresses" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">address[] public positionSpenderAddresses;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="setpositionspenderaddresses"></a>setPositionSpenderAddresses<a class="hash-link" href="#setpositionspenderaddresses" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function setPositionSpenderAddresses(address addresses)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="assetsaddresses"></a>assetsAddresses<a class="hash-link" href="#assetsaddresses" title="Direct link to heading">#</a></h5><p>Get a list of asset addresses from the asset adapter&#x27;s associated registry.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">assetsAddresses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> view </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>RETURN</code> Array of asset addresses</p><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="solidity-1"></a>Solidity<a class="hash-link" href="#solidity-1" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">RegistryAdapter registryAdapter = RegistryAdapter(0xABCD...);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">address[] assetAddresses = registryAdapter.assetsAddresses();</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="example-response-1"></a>Example Response<a class="hash-link" href="#example-response-1" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[&#x27;0xE14d13d8B3b85aF791b2AADD661cDBd5E6097Db1&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> &#x27;0xdCD90C7f6324cfa40d7169ef80b12031770B4325&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> &#x27;0x986b4AFF588a109c09B50A03f42E4110E29D353F&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> &#x27;0xcB550A6D4C8e3517A939BC79d0c7093eb7cF56B5&#x27;]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="assettvl"></a>assetTvl<a class="hash-link" href="#assettvl" title="Direct link to heading">#</a></h5><p>Get TVL for a specific asset (in USDC).</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">assetTvl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address assetAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> view </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="solidity-2"></a>Solidity<a class="hash-link" href="#solidity-2" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">RegistryAdapter registryAdapter = RegistryAdapter(0xABCD...);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">address assetAddress = 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">uint256 assetTvl = registryAdapter.assetTvl(assetAddress);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="example-response-2"></a>Example Response<a class="hash-link" href="#example-response-2" title="Direct link to heading">#</a></h6><p><code>1637032292</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="assetstvl"></a>assetsTvl<a class="hash-link" href="#assetstvl" title="Direct link to heading">#</a></h5><p>Get aggregated TVL for all assets in the adapter&#x27;s registry.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">assetsTvl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> external view </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>RETURN</code> Aggregated TVL scoped to the adapter&#x27;s assets in USDC</p><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="solidity-3"></a>Solidity<a class="hash-link" href="#solidity-3" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">RegistryAdapter registryAdapter = RegistryAdapter(0xABCD...);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">uint256 assetTvl = registryAdapter.assetsTvl();</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="example-response-3"></a>Example Response<a class="hash-link" href="#example-response-3" title="Direct link to heading">#</a></h6><p><code>443923433354832</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="asset-1"></a>asset<a class="hash-link" href="#asset-1" title="Direct link to heading">#</a></h5><p>Get a specific asset including metadata specific to the asset type. The response extends the standardized <code>Asset</code> interface.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">asset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address assetAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> view </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">Asset</span><span class="token plain"> memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>assetAddress</code> The address of the asset to fetch
<code>RETURN</code> An asset struct containing information about the asset</p><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="solidity-4"></a>Solidity<a class="hash-link" href="#solidity-4" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">RegistryAdapter registryAdapter = RegistryAdapter(0xABCD...);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">address assetAddress = 0xe2F6b9773BF3A015E2aA70741Bde1498bdB9425b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">registryAdapter.asset(assetAddress);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="example-response-4"></a>Example Response<a class="hash-link" href="#example-response-4" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;WTFTM Vault&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  id</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> 0xe2F6b9773BF3A015E2aA70741Bde1498bdB9425b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  version</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;</span><span class="token number" style="color:rgb(247, 140, 108)">0.3</span><span class="token plain">.</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  totalAssets</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">129999966466476313000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  totalAssetsUsdc</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">14355444934422</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// TVL</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  metadata</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    controller</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> 0x19D3364A399d251E894aC732651be8B0E4e85001</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    pricePerShare</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">142004300000000000</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="assets"></a>assets<a class="hash-link" href="#assets" title="Direct link to heading">#</a></h5><p>Get all assets for a registry adapter</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">assets</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> external view </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">Asset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>RETURN</code> An array of asset structs containing information about the assets</p><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="solidity-5"></a>Solidity<a class="hash-link" href="#solidity-5" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">RegistryAdapter registryAdapter = RegistryAdapter(0xABCD...);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">registryAdapter.assets();</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="example-response-5"></a>Example Response<a class="hash-link" href="#example-response-5" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;WFTM Vault&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    id</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> 0xe2F6b9773BF3A015E2aA70741Bde1498bdB9425b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// vault address</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    version</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;</span><span class="token number" style="color:rgb(247, 140, 108)">0.3</span><span class="token plain">.</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    totalAssets</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">129999966466476313000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    totalAssetsUsdc</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">14355444934422</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// TVL</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    metadata</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      controller</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> 0x19D3364A399d251E894aC732651be8B0E4e85001</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      pricePerShare</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">142004300000000000</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;fUSD Vault&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    id</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> 0x5f18C75AbDAe578b483E5F43f12a39cF75b973a9</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    version</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;</span><span class="token number" style="color:rgb(247, 140, 108)">0.3</span><span class="token plain">.</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    totalAssets</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4593326846642963130309078</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    totalAssetsUsdc</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">45444930943854422</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// TVL</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    metadata</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      controller</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> 0x19D3364A399d251E894aC732651be8B0E4e85001</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      pricePerShare</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">101003300000000000</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="positionof"></a>positionOf<a class="hash-link" href="#positionof" title="Direct link to heading">#</a></h5><p>Get the position of an account for a specific asset address.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">positionOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address accountAddress</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> address assetAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">Position</span><span class="token plain"> memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="solidity-6"></a>Solidity<a class="hash-link" href="#solidity-6" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">RegistryAdapter registryAdapter = RegistryAdapter(0xABCD...);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">address accountAddress = 0x481140F916a4e64559694DB4d56D692CadC0326c;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">address assetAddress = 0xe2F6b9773BF3A015E2aA70741Bde1498bdB9425b;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">registryAdapter.positionForAsset(accountAddress, assetAddress);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="example-response-6"></a>Example Response<a class="hash-link" href="#example-response-6" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  assetId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> 0xe2F6b9773BF3A015E2aA70741Bde1498bdB9425b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// vault address</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  depositedBalance</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10422000000000000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  depositedBalanceUsdc</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10422000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  tokenBalance</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2110000000000000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  tokenBalanceUsdc</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2110000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  tokenAllowance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1157343987545498574545495749587452</span><span class="token plain">... </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// max uint256</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="positionsof"></a>positionsOf<a class="hash-link" href="#positionsof" title="Direct link to heading">#</a></h5><p>Get all positions for an account for every adapter asset.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">positionsOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address accountAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        external</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">Position</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="solidity-7"></a>Solidity<a class="hash-link" href="#solidity-7" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">RegistryAdapter registryAdapter = RegistryAdapter(0xABCD...);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">address accountAddress = 0x481140F916a4e64559694DB4d56D692CadC0326c;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">registryAdapter.positionsOf(accountAddress);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="example-response-7"></a>Example Response<a class="hash-link" href="#example-response-7" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    assetId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> 0xe2F6b9773BF3A015E2aA70741Bde1498bdB9425b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// vault address</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    depositedBalance</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10422000000000000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    depositedBalanceUsdc</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10422000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    tokenBalance</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2110000000000000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    tokenBalanceUsdc</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2110000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    tokenAllowance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1157343987545498574545495749587452</span><span class="token plain">... </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// max uint256</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    assetId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> 0x19D3364A399d251E894aC732651be8B0E4e85001</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// vault address</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    depositedBalance</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10422000000000000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    depositedBalanceUsdc</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10422000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    tokenBalance</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    tokenBalanceUsdc</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    tokenAllowance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="tokens"></a>tokens<a class="hash-link" href="#tokens" title="Direct link to heading">#</a></h5><p>Get unique tokens for the adapter.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">tokens</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        external</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">Token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="solidity-8"></a>Solidity<a class="hash-link" href="#solidity-8" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">RegistryAdapter registryAdapter = RegistryAdapter(0xABCD...);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">registryAdapter.tokens();</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="example-response-8"></a>Example Response<a class="hash-link" href="#example-response-8" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    id</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// token address</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;USD Coin&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    symbol</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;USDC&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    decimals</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    priceUsdc</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">100000</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="oracle"></a>Oracle<a class="hash-link" href="#oracle" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="methods-1"></a>Methods<a class="hash-link" href="#methods-1" title="Direct link to heading">#</a></h4><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="setcalculations"></a>setCalculations<a class="hash-link" href="#setcalculations" title="Direct link to heading">#</a></h5><p>Set oracle calculation contract addresses. Each calculation contract must implement getPriceUsdc(). The order of calculation contracts matters as it determines the order preference in the cascading fallback mechanism.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setCalculations</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token parameter"> memory calculationAddresses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        onlyManagers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>calculationAddresses</code> An array of addresses for underlying calculation contracts</p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="calculations"></a>calculations<a class="hash-link" href="#calculations" title="Direct link to heading">#</a></h5><p>View the calculation contract addresses currently associated with the oracle.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">calculations</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> external view </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>RETURN</code> An array of calculation contract addresses associated with the oracle</p><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="example-response-9"></a>Example Response<a class="hash-link" href="#example-response-9" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &#x27;0xfC714174E5c8bd056a45a5337E7b402CC4af7BF3&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &#x27;0x55e9B18fefFF7E00548d54480373Fc8843De8eA4&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &#x27;0x88dE7d7F7b9597C86b8cD195374FbF602934F334&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="getpriceusdcrecommended"></a>getPriceUsdcRecommended<a class="hash-link" href="#getpriceusdcrecommended" title="Direct link to heading">#</a></h5><p>Get the currently recommended price given a token address.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getPriceUsdcRecommended</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address tokenAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>tokenAddress</code> The token address for which to obtain a price recommendation
<code>RETURN</code> Recommended price in USDC (6 decimals)</p><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="example-response-10"></a>Example Response<a class="hash-link" href="#example-response-10" title="Direct link to heading">#</a></h6><p><code>103000</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="getnormalizedvalueusdc"></a>getNormalizedValueUsdc<a class="hash-link" href="#getnormalizedvalueusdc" title="Direct link to heading">#</a></h5><p>Calculate normalized USDC value given a token address and an amount.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getNormalizedValueUsdc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address tokenAddress</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> uint256 amount</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        external</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>tokenAddress</code> The token address
<code>amount</code> The amount of value to convert (in token decimals)
<code>RETURN</code> Recommended price in USDC (6 decimals)</p><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="example-response-11"></a>Example Response<a class="hash-link" href="#example-response-11" title="Direct link to heading">#</a></h6><p><code>3442238822</code></p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="tokenaliases"></a>tokenAliases<a class="hash-link" href="#tokenaliases" title="Direct link to heading">#</a></h5><p>Given a token address fetch a token alias address. This is necessary for certain wrapped or special case tokens that do not have a token price available in the oracle.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">mapping(address =&gt; address) public tokenAliases;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="addtokenalias"></a>addTokenAlias<a class="hash-link" href="#addtokenalias" title="Direct link to heading">#</a></h5><p>Add a new token alias mapping.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function addTokenAlias(address tokenAddress, address tokenAliasAddress)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        public</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        onlyManagers;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>tokenAddress</code> The token address that will receive an alias
<code>tokenAliasAddress</code> The new token alias address</p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="addtokenaliases"></a>addTokenAliases<a class="hash-link" href="#addtokenaliases" title="Direct link to heading">#</a></h5><p>Batch add new token alias mappingings.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    function addTokenAliases(TokenAlias[] memory tokenAliases)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        public</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        onlyManagers</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>tokenAliases</code> An array of <code>TokenAlias</code> structs (<code>[[tokenAddress, tokenAliasAddress]]</code>)</p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="removetokenalias"></a>removeTokenAlias<a class="hash-link" href="#removetokenalias" title="Direct link to heading">#</a></h5><p>Remove a token alias mapping.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">function addTokenAlias(address tokenAddress, address tokenAliasAddress)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        public</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        onlyManagers;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>tokenAddress</code> The token address whose alias will be removed</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="calculation"></a>Calculation<a class="hash-link" href="#calculation" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="standardized-methods"></a>Standardized methods<a class="hash-link" href="#standardized-methods" title="Direct link to heading">#</a></h4><p>All calculation contracts must implement the following methods.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="getpriceusdc"></a>getPriceUsdc<a class="hash-link" href="#getpriceusdc" title="Direct link to heading">#</a></h5><p>Fetch the recommended price given a token address. Reverts if no relevant price is found.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getPriceUsdc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address tokenAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> view </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="example-response-12"></a>Example Response<a class="hash-link" href="#example-response-12" title="Direct link to heading">#</a></h6><p><code>103000</code></p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="calculation-specific-methods"></a>Calculation specific methods<a class="hash-link" href="#calculation-specific-methods" title="Direct link to heading">#</a></h4><p>Helper utilities for various calculations. These methods are indirectly exposed to the oracle via the oracle&#x27;s cascading fallback mechanism. All of these methods can be called via the oracle contract by generating a custom ABI with the desired methods. Since these helper methods do not represent the primary use case of the oracle contract (the primary use case is fetching price) determining the details of each method implementation is left to the user.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="sushiswap"></a>Sushiswap<a class="hash-link" href="#sushiswap" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getPriceFromRouter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address token0Address</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> address token1Address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getPriceFromRouterUsdc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address tokenAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">isLpToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address tokenAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> view </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">bool</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getRouterForLpToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address tokenAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">PriceRouter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getLpTokenTotalLiquidityUsdc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address tokenAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getLpTokenPriceUsdc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address tokenAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="curve"></a>Curve<a class="hash-link" href="#curve" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getBasePrice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address curveLpTokenAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getVirtualPrice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address curveLpTokenAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">isCurveLpToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address tokenAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> view </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">bool</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getFirstUnderlyingCoinFromPool</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address poolAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getCurvePriceUsdc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address curveLpTokenAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="ironbank"></a>IronBank<a class="hash-link" href="#ironbank" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">isIronBankMarket</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address tokenAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> view </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">bool</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getIronBankMarkets</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> view </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getIronBankMarketPriceUsdc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address tokenAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="lens"></a>Lens<a class="hash-link" href="#lens" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="methods-2"></a>Methods<a class="hash-link" href="#methods-2" title="Direct link to heading">#</a></h4><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="addadapter"></a>addAdapter<a class="hash-link" href="#addadapter" title="Direct link to heading">#</a></h5><p>Add a registry adapter. The registry adapter must conform to the standardized registry adapter interface.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">addAdapter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address adapterAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> onlyManager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>adapterAddress</code> Address of the adapter to add</p><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="solidity-9"></a>Solidity<a class="hash-link" href="#solidity-9" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Lens lens = Lens(0x9b8b9F6146B29CC32208f42b995E70F0Eb2807F3);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">address adapterAddress = 0xe11ba472F74869176652C35D30dB89854b5ae84D;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">lens.addAdapter(adapterAddress);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="removeadapter"></a>removeAdapter<a class="hash-link" href="#removeadapter" title="Direct link to heading">#</a></h5><p>Remove a registry adapter.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">removeAdapter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address adapterAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> onlyManager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>adapterAddress</code> Address of the adapter to remove</p><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="solidity-10"></a>Solidity<a class="hash-link" href="#solidity-10" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Lens lens = Lens(0x9b8b9F6146B29CC32208f42b995E70F0Eb2807F3);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">address adapterAddress = 0xe11ba472F74869176652C35D30dB89854b5ae84D;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">lens.removeAdapter(adapterAddress);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="adapters"></a>adapters<a class="hash-link" href="#adapters" title="Direct link to heading">#</a></h5><p>Fetch a list of registry adapter addresses.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">adapters</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> external view </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="solidity-11"></a>Solidity<a class="hash-link" href="#solidity-11" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token maybe-class-name">Lens</span><span class="token plain"> lens </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">Lens</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0x9b8b9F6146B29CC32208f42b995E70F0Eb2807F3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> memory </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> lens</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">adapters</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="example-response-13"></a>Example Response<a class="hash-link" href="#example-response-13" title="Direct link to heading">#</a></h6><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[&#x27;0xE14d13d8B3b85aF791b2AADD661cDBd5E6097Db1&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> &#x27;0xdCD90C7f6324cfa40d7169ef80b12031770B4325&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> &#x27;0x986b4AFF588a109c09B50A03f42E4110E29D353F&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> &#x27;0xcB550A6D4C8e3517A939BC79d0c7093eb7cF56B5&#x27;]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="assetsfromadapter"></a>assetsFromAdapter<a class="hash-link" href="#assetsfromadapter" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">assetsFromAdapter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">RegistryAdapter registryAdapterAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        external</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">RegistryAdapter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Asset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>See: <a href="#assets">registryAdapter.assets</a></p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="assets-1"></a>assets<a class="hash-link" href="#assets-1" title="Direct link to heading">#</a></h5><p>Fetch all assets for all supported protocols.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">assets</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        external</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">RegistryAdapter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Asset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>See: <a href="#assets">registryAdapter.assets</a></p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="positionsfromadapter"></a>positionsFromAdapter<a class="hash-link" href="#positionsfromadapter" title="Direct link to heading">#</a></h5><p>Fetch positions for an account for a specific adapter.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">positionsFromAdapter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token parameter">address account</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token parameter">        RegistryAdapter registryAdapterAddress</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> external view </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">RegistryAdapter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Position</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>See: <a href="#positions-of">registryAdapter.positionsOf</a></p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="positionsof-1"></a>positionsOf<a class="hash-link" href="#positionsof-1" title="Direct link to heading">#</a></h5><p>Fetch all positions for an account within the ecosystem.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">positionsOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">address account</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        external</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        view</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">RegistryAdapter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Position</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>See: <a href="#positions-of">registryAdapter.positionsOf</a></p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="assetslength-1"></a>assetsLength<a class="hash-link" href="#assetslength-1" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">assetsLength</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> view </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uint256</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Get the total number of assets for all Yearn family protocols
See: <a href="#assets-length">registryAdapter.assetsLength</a></p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="assetsaddresses-1"></a>assetsAddresses<a class="hash-link" href="#assetsaddresses-1" title="Direct link to heading">#</a></h5><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">assetsAddresses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> view </span><span class="token function" style="color:rgb(130, 170, 255)">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Get all addresses for all Yearn family assets
See: <a href="#assets-addresses">registryAdapter.assetsAddresses</a></p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="allowances"></a>allowances<a class="hash-link" href="#allowances" title="Direct link to heading">#</a></h5><p>Batch fetch allowances given an owner, tokens and spender. This is a helper utility for fetching large amounts of token allowances for a specific set of contracts (zapper contract, for example)</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><div tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    function allowances(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        address owner,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        address[] memory tokens,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        address[] memory spenders</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ) external view returns (uint256[] memory)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/yearn/yearn-devdocs/edit/master/website/versioned_docs/version-0.4.2/yearn-lens/yearn-lens.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/yearn-devdocs/v2/yearn-api"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Yearn API</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/yearn-devdocs/v2/yearn-lens/contracts"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deployed Lens Contracts Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#architecture" class="table-of-contents__link">Architecture</a><ul><li><a href="#block-diagram" class="table-of-contents__link">Block Diagram</a></li><li><a href="#key-concepts" class="table-of-contents__link">Key Concepts</a></li><li><a href="#key-features" class="table-of-contents__link">Key Features</a></li></ul></li><li><a href="#contracts" class="table-of-contents__link">Contracts</a><ul><li><a href="#registry-adapters" class="table-of-contents__link">Registry Adapters</a></li><li><a href="#oracle" class="table-of-contents__link">Oracle</a></li><li><a href="#calculation" class="table-of-contents__link">Calculation</a></li><li><a href="#lens" class="table-of-contents__link">Lens</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://gov.yearn.finance/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discourse</a></li><li class="footer__item"><a href="https://discord.yearn.finance/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/iearnfinance" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/yearn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 yearn.finance. Built with Docusaurus.</div></div></div></footer></div>
<script src="/yearn-devdocs/assets/js/styles.2b3be0a4.js"></script>
<script src="/yearn-devdocs/assets/js/runtime~main.59f2af67.js"></script>
<script src="/yearn-devdocs/assets/js/main.aebb919c.js"></script>
<script src="/yearn-devdocs/assets/js/1.913447f5.js"></script>
<script src="/yearn-devdocs/assets/js/2.41de3f09.js"></script>
<script src="/yearn-devdocs/assets/js/192.e1ccb2e5.js"></script>
<script src="/yearn-devdocs/assets/js/195.e0413fa9.js"></script>
<script src="/yearn-devdocs/assets/js/bbd5eca0.b6a7e464.js"></script>
<script src="/yearn-devdocs/assets/js/17896441.b8468579.js"></script>
<script src="/yearn-devdocs/assets/js/80d3d021.da799fc3.js"></script>
</body>
</html>