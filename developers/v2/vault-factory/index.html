<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-developers docs-version-current docs-doc-page docs-doc-id-v2/vault-factory" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Vault Factory | Yearn Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://docs.yearn.fi/img/YFILogoGradient.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.yearn.fi/img/YFILogoGradient.jpg"><meta data-rh="true" property="og:url" content="https://docs.yearn.fi/developers/v2/vault-factory"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="Yearn Finance is a suite of products in Decentralized Finance (DeFi) that provides lending aggregation, yield generation, and insurance on the Ethereum blockchain."><meta data-rh="true" name="git-url" content="https://github.com/yearn/yearn-devdocs"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-developers-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-developers-current"><meta data-rh="true" property="og:title" content="Vault Factory | Yearn Docs"><meta data-rh="true" name="description" content="Yearn&#x27;s Vault Factory allows anyone to permissionlessly deploy an official Yearn Vault with ready-made yield strategies."><meta data-rh="true" property="og:description" content="Yearn&#x27;s Vault Factory allows anyone to permissionlessly deploy an official Yearn Vault with ready-made yield strategies."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.yearn.fi/developers/v2/vault-factory"><link data-rh="true" rel="alternate" href="https://docs.yearn.fi/developers/v2/vault-factory" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.yearn.fi/developers/v2/vault-factory" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://UNKNOWN-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Yearn Docs" href="/opensearch.xml">





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.3b1d09d7.css">
<script src="/assets/js/runtime~main.1ffae97f.js" defer="defer"></script>
<script src="/assets/js/main.37e08026.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="YFI Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="YFI Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/getting-started/intro">User Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/developers/building-on-yearn">Dev Docs</a><a class="navbar__item navbar__link" href="/contributing/introduction">DAO Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://blog.yearn.fi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a href="https://discord.gg/b8ENPNqG5c" target="_blank" rel="noopener noreferrer" class="dropdown__link">Discord<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://x.com/yearnfi" target="_blank" rel="noopener noreferrer" class="dropdown__link">Twitter<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://t.me/yearnfinance/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Telegram<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://medium.com/iearn" target="_blank" rel="noopener noreferrer" class="dropdown__link">Medium<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://gov.yearn.fi" target="_blank" rel="noopener noreferrer" class="dropdown__link">Governance Forum<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://snapshot.org/#/veyfi.eth" target="_blank" rel="noopener noreferrer" class="dropdown__link">Snapshot Voting<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/yearn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://yearn.fi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-yearn-link" aria-label="yearn.fi"></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/developers/building-on-yearn">Building on Yearn</a><button aria-label="Collapse sidebar category &#x27;Building on Yearn&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/developers/v3/overview">yVaults</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/developers/v3/overview">yVaults v3</a><button aria-label="Expand sidebar category &#x27;yVaults v3&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/developers/v2/getting-started">yVaults v2</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/getting-started">Getting Started with Vaults and Strategies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/DEPLOYMENT">Deploying a Vault and Strategy V2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/developers/v2/vault-factory">Vault Factory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/SPECIFICATION">Yearn System Specification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/OPERATIONS">Operations procedures</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/additional-resources">Additional Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a href="https://docs.yearn.fi/developers/addresses/v2-contracts" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">v2 Contract Addresses →<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a href="https://docs.yearn.fi/developers/smart-contracts/v2/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Smart Contracts →<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/developers/v1/introduction">yVaults v1</a><button aria-label="Expand sidebar category &#x27;yVaults v1&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/naming-convention">Naming Conventions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/developers/data-services/yearn-data">Yearn Data Services</a><button aria-label="Expand sidebar category &#x27;Yearn Data Services&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/developers/front-end-development">Front End Development</a><button aria-label="Expand sidebar category &#x27;Front End Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/developers/v2/yswaps">Other Stuff</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 divider"><hr></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/developers/addresses/">Token and Contract Addresses</a><button aria-label="Expand sidebar category &#x27;Token and Contract Addresses&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 divider"><hr></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/developers/smart-contracts/">Smart Contracts</a><button aria-label="Expand sidebar category &#x27;Smart Contracts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 divider"><hr></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/developers/security/">Security</a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Vault Factory</h1></header>
<p>Yearn&#x27;s Vault Factory allows anyone to permissionlessly deploy an official Yearn Vault with ready-made yield strategies.</p>
<p>The easiest way to get started using the factory is through the User Interface:</p>
<ul>
<li><a href="https://yearn.fi/vaults/factory" target="_blank" rel="noopener noreferrer">https://yearn.fi/vaults/factory</a> - <a href="#create-with-ui">Tutorial</a></li>
</ul>
<p>The current version of the Vault Factory works with the following:</p>
<ul>
<li><a href="#Curve-LP-Tokens">Curve LP Tokens</a></li>
<li>Balancer LP Tokens (soon)</li>
</ul>
<p>The Vault Factory is a massive step forward in automation. We&#x27;re significantly reducing our operational costs for all vaults deployed with this new method. Here&#x27;s the fee structure for them:</p>
<ul>
<li>0% management fee (previously 2%)</li>
<li>10% performance fee (previously 20%)</li>
</ul>
<p>Performance fees for every type of yVault go straight to Yearn treasury (<a href="https://etherscan.io/address/0x93a62da5a14c80f265dabc077fcee437b1a0efde" target="_blank" rel="noopener noreferrer">treasury.ychad.eth</a>) and are calculated only on top of harvest profits. The current fee structure for each yVault can be seen directly on the new <a href="https://yearn.fi/vaults" target="_blank" rel="noopener noreferrer">yearn.fi</a> website by clicking on the vault.</p>
<img src="https://i.imgur.com/0QIydKb.png" width="500">
<p>Only one factory vault can be live for each token, so the Vault Factory will only deploy a new yVault if there is no vault for that token already deployed (excluding &quot;legacy&quot; vaults, though factory versions of these must be deployed from one of Yearn&#x27;s multisigs).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="harvests-traditional-vs-factory-strategies">Harvests: Traditional vs. Factory Strategies<a href="#harvests-traditional-vs-factory-strategies" class="hash-link" aria-label="Direct link to Harvests: Traditional vs. Factory Strategies" title="Direct link to Harvests: Traditional vs. Factory Strategies">​</a></h2>
<p>Factory vaults introduced a key change in the harvest process, enabling permissionless harvests (meaning anyone willing to pay transaction costs can perform them). Here is how harvests work in each case:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="traditional-strategies">Traditional Strategies<a href="#traditional-strategies" class="hash-link" aria-label="Direct link to Traditional Strategies" title="Direct link to Traditional Strategies">​</a></h3>
<p>Traditional strategies have the token swap logic directly embedded in them. As a result, a harvest call simultaneously performs debt rebalances and converts them into realized profits in one transaction.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="factory-strategies">Factory Strategies<a href="#factory-strategies" class="hash-link" aria-label="Direct link to Factory Strategies" title="Direct link to Factory Strategies">​</a></h3>
<p>Factory strategies separate swap logic from the strategy, executing it in a different transaction from the harvest. This ensures that swap transactions remain permissioned, safeguarding them from Miner Extractable Value (MEV) attacks.</p>
<p>Harvests in factory strategies still rebalance debt between strategies and allocate idle funds to strategies, pulling accumulated rewards into the strategy contract to be swapped by the ySwaps team. Once swaps are completed, which may take several days, anyone can call harvest a second time to acknowledge the profit generated by the swap and distribute it to the vault, making <code>pricePerShare</code> increase.</p>
<p>Although harvests will be permissionless for this specific group of vaults, Yearn will continue utilizing standard keeper automation to call harvests, even if no one else does. These automated harvests are run by keep3r.network and often depend on network congestion and transaction viability. For example, if the network conditions are consistently unfavorable, harvests may have delays.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="calling-harvest">Calling Harvest<a href="#calling-harvest" class="hash-link" aria-label="Direct link to Calling Harvest" title="Direct link to Calling Harvest">​</a></h3>
<p>To call the <code>harvest()</code> function on a Yearn strategy, you need to interact with the keeper contract found at <a href="https://etherscan.io/address/keeper.factory.ychad.eth#writeContract" target="_blank" rel="noopener noreferrer">keeper.factory.ychad.eth</a> using the strategy address. Ensure you&#x27;re calling <code>harvest()</code> on the correct contract: <strong>You MUST use the strategy address, NOT the vault address</strong>.</p>
<p>If you&#x27;re unsure how to find the strategy address, the best method is to visit the Yearn vault&#x27;s detail page and look under the &quot;Strategies&quot; section. This section provides information on the debt ratios and the addresses for all strategies attached to the vault.</p>
<p>For example, if you&#x27;re interested in the vault at address <code>0xFfA0F0616229eE2aC08FA4C358D23b18D980134B</code> you can see the list of strategies addresses at <a href="https://yearn.fi/vaults/1/0xFfA0F0616229eE2aC08FA4C358D23b18D980134B?tab=strategies" target="_blank" rel="noopener noreferrer">yearn.fi/vaults/1/0xFfA0F0616229eE2aC08FA4C358D23b18D980134B?tab=strategies</a>:</p>
<p><img decoding="async" loading="lazy" src="https://i.imgur.com/LO6E8hw.png" alt="Strategy Address Location" class="img_ev3q"></p>
<p>Once you have the correct strategy address, go to the keeper contract on Etherscan, connect your wallet, enter the strategy address into the <code>harvest()</code> function, and execute the transaction by clicking “Write”.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="curve-lp-tokens">Curve LP Tokens<a href="#curve-lp-tokens" class="hash-link" aria-label="Direct link to Curve LP Tokens" title="Direct link to Curve LP Tokens">​</a></h2>
<p>The first Vault Factory deployed live on Ethereum is the Curve LP Token Vault Factory. This factory allows users to deploy yVaults for any Curve LP token representing a Curve pool with an active gauge (allowing it to receive CRV emissions).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="curve-strategies">Curve Strategies<a href="#curve-strategies" class="hash-link" aria-label="Direct link to Curve Strategies" title="Direct link to Curve Strategies">​</a></h3>
<p>Factory-deployed yVaults for Curve LP tokens contain up to three ready-made yield strategies:</p>
<ol>
<li>StrategyCurveBoostedFactory</li>
<li>StrategyConvexFactory</li>
<li>StrategyConvexFraxFactory</li>
</ol>
<p><strong>StrategyCurveBoostedFactory</strong> uses Yearn&#x27;s veCRV balance (currently <a href="https://yearn.fi/ycrv" target="_blank" rel="noopener noreferrer">62.8m</a>) to give users the maximum 2.5x boost on their CRV rewards.</p>
<p><strong>StrategyConvexFactory</strong> supplies any additional Curve LP tokens (beyond which would receive the maximum 2.5x boost via the Curve strategy) to Convex Finance to earn CRV rewards (boosted by Convex&#x27;s veCRV balance) and CVX rewards.</p>
<p><strong>StrategyConvexFraxFactory</strong> will only be added to the vault if the Curve LP token of the vault can be staked in Convex for Frax (currently available for over 20 Curve LPs). This ConvexFrax strategy will be used instead of the standard Convex strategy to earn additional FXS rewards (on top of the standard CRV and CVX rewards).</p>
<img src="https://i.imgur.com/oJdwz6n.png">
<p>In all three strategies, any earned tokens are regularly claimed, sold for more of the underlying Curve LP token, and then deposited back into the strategy to compound the yield.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="velodrome-lp-tokens">Velodrome LP Tokens<a href="#velodrome-lp-tokens" class="hash-link" aria-label="Direct link to Velodrome LP Tokens" title="Direct link to Velodrome LP Tokens">​</a></h2>
<p>On Optimism, we have deployed the Velodrome LP Token Vault Factory. Several vaults have already been deployed and users can now permissionlessly deploy a new vault for any Velodrome V2 pool. The strategy collects VELO emissions from gauge incentives, swaps them for the LP token making auto-compounding effortless! At the moment, harvests for the Velodrome Vault Factory are permissioned and called regularly by keepers.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="balancer-lp-tokens">Balancer LP Tokens<a href="#balancer-lp-tokens" class="hash-link" aria-label="Direct link to Balancer LP Tokens" title="Direct link to Balancer LP Tokens">​</a></h2>
<p>Balancer is another protocol we have integrated with our Vault Factory. The process is nearly identical to the Curve integration, with a few key differences relating to the unique features of Balancer.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="balancer-strategies">Balancer Strategies<a href="#balancer-strategies" class="hash-link" aria-label="Direct link to Balancer Strategies" title="Direct link to Balancer Strategies">​</a></h3>
<p><strong>StrategyAuraFactory</strong> is currently the only strategy used for Balancer factory vaults. It leverages the Aura rewards program on Balancer to earn additional yield.</p>
<p>The main difference between Balancer and Curve lies in their respective veTokens. Balancer&#x27;s veBAL is their LP token (an 80/20 BAL/WETH pair), and their maximum lock duration is 1 year (compared to 4 on Curve). Unlike our Curve strategies where we use our veCRV balance to boost rewards, we currently do not have a large amount of veBAL in the treasury. Therefore, the strategy focuses on earning Aura rewards.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="aerodrome-lp-tokens">Aerodrome LP Tokens<a href="#aerodrome-lp-tokens" class="hash-link" aria-label="Direct link to Aerodrome LP Tokens" title="Direct link to Aerodrome LP Tokens">​</a></h2>
<p>On Base, we have deployed the Aerodrome LP Token Vault Factory. Aerodrome is a fork of Velodrome V2 and was deployed by the Velodrome team on Base.</p>
<p>The Aerodrome Vault Factory works identically to the Velodrome Factory. It allows users to deploy new vaults permissionlessly for any Aerodrome V2 pool. The strategy collects AERO emissions from gauge incentives, which are sold for the LP token, making auto-compounding effortless.</p>
<p>Like with the Velodrome Vault Factory, harvests for the Aerodrome Vault Factory are permissioned and regularly called by keepers.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="determine-accumulated-rewards">Determine Accumulated Rewards<a href="#determine-accumulated-rewards" class="hash-link" aria-label="Direct link to Determine Accumulated Rewards" title="Direct link to Determine Accumulated Rewards">​</a></h2>
<p>This section helps you know how much profit has accumulated, but calling harvest will <strong>not</strong> recognize profits unless they are sitting in the strategy&#x27;s contract address. Also if there are reward tokens in the strategy&#x27;s contract, those values should be added to your calculation in the section below.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="curve-strategy">Curve Strategy<a href="#curve-strategy" class="hash-link" aria-label="Direct link to Curve Strategy" title="Direct link to Curve Strategy">​</a></h3>
<p>For curve strategies, you can view how much rewards have accumulated for that vault by using Curve.Fi&#x27;s <a href="https://curve.fi/#/ethereum/dashboard" target="_blank" rel="noopener noreferrer">dashboard</a> and putting in Yearn&#x27;s Curve Voter Proxy address <code>0xF147b8125d2ef93FB6965Db97D6746952a133934</code> (curve-voter.ychad.eth). This will show you the dollar amount accumulated in the strategy for all factory vaults.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="convex-and-convex-frax-strategies">Convex and Convex Frax Strategies<a href="#convex-and-convex-frax-strategies" class="hash-link" aria-label="Direct link to Convex and Convex Frax Strategies" title="Direct link to Convex and Convex Frax Strategies">​</a></h3>
<p>For Convex and Convex Frax you can view how much rewards have accumulated in USD by viewing claimableProfitInUsdc() on the strategy under the Read Contract tab.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="contracts">Contracts<a href="#contracts" class="hash-link" aria-label="Direct link to Contracts" title="Direct link to Contracts">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ethereum">Ethereum<a href="#ethereum" class="hash-link" aria-label="Direct link to Ethereum" title="Direct link to Ethereum">​</a></h3>
<ul>
<li>Curve LP Factory Address: <a href="https://etherscan.io/address/0x21b1FC8A52f179757bf555346130bF27c0C2A17A#readContract" target="_blank" rel="noopener noreferrer">0x21b1FC8A52f179757bf555346130bF27c0C2A17A</a></li>
<li>Balancer LP Factory Address: <a href="https://etherscan.io/address/0x06393857db733b76dd3ec91f3681ce85db275438#readContract" target="_blank" rel="noopener noreferrer">0x06393857dB733b76DD3ec91F3681cE85db275438</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="optimism">Optimism<a href="#optimism" class="hash-link" aria-label="Direct link to Optimism" title="Direct link to Optimism">​</a></h3>
<ul>
<li>Velodrome LP Factory Address: <a href="https://optimistic.etherscan.io/address/0x8eb53a4fD9D2727a49E9e68a32108C18049bFf86#readContract" target="_blank" rel="noopener noreferrer">0x8eb53a4fD9D2727a49E9e68a32108C18049bFf86</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="base">Base<a href="#base" class="hash-link" aria-label="Direct link to Base" title="Direct link to Base">​</a></h3>
<ul>
<li>Aerodrome LP Factory Address: <a href="https://basescan.org/address/0x2d12caffa46ab3b6c5ceb224620de8b4de3cdff1#readContract" target="_blank" rel="noopener noreferrer">0x2d12caFfa46ab3b6c5cEb224620de8b4DE3cDff1</a></li>
</ul>
<p>The LP Factory contract provides a few main functions:</p>
<ul>
<li><code>allDeployedVaults()</code>: returns an array of all the deployed vaults.</li>
<li><code>numVaults()</code>: returns the number of vaults deployed.</li>
<li><code>canCreateVaultPermissionlessly()</code>: takes in an address for a gauge and returns a boolean that indicates whether a vault can be created permissionlessly.</li>
<li><code>createNewVaultsAndStrategies()</code>: takes in an address for a gauge and a boolean that determines whether duplicate vaults are allowed, and creates a new vault and strategy.</li>
<li><code>latestDefaultOrAutomatedVaultFromGauge()</code>: takes in an address for a gauge and returns the latest default or automated vault from that gauge.</li>
<li><code>~StrategyImplementation()</code>: Has the name of the strategy in front of <code>StrategyImplmentation</code> and returns the strategy contract template address used in the vault factory each factory will have at least one.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-with-ui">Create with UI<a href="#create-with-ui" class="hash-link" aria-label="Direct link to Create with UI" title="Direct link to Create with UI">​</a></h2>
<ul>
<li>User Interface: <a href="https://yearn.fi/vaults/factory" target="_blank" rel="noopener noreferrer">https://yearn.fi/vaults/factory</a></li>
</ul>
<p>Follow these steps to create a new vault with the UI:</p>
<ol>
<li>Make sure your wallet is connected</li>
</ol>
<img src="https://i.imgur.com/EKqOla1.png">
<ol start="2">
<li>Chose a token to create a vault for</li>
</ol>
<img src="https://i.imgur.com/nIt8h8v.png" width="500">
<ol start="3">
<li>Review details and click &quot;Create Vault&quot;</li>
</ol>
<img src="https://i.imgur.com/l7Z7oYm.png">
<ol start="4">
<li>Sign the transaction and the vault will be created (the signing interface is specific to your wallet provider, this one is <a href="https://frame.sh/" target="_blank" rel="noopener noreferrer">Frame</a>)</li>
</ol>
<img src="https://i.imgur.com/uRhX2VB.png" width="280">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-from-contract">Create from Contract<a href="#create-from-contract" class="hash-link" aria-label="Direct link to Create from Contract" title="Direct link to Create from Contract">​</a></h2>
<ol>
<li>
<p>Open the contract at etherscan: <a href="https://etherscan.io/address/0x21b1FC8A52f179757bf555346130bF27c0C2A17A#writeContract" target="_blank" rel="noopener noreferrer">0x21b1FC8A52f179757bf555346130bF27c0C2A17A</a></p>
</li>
<li>
<p>Call <code>canCreateVaultPermissionlessly()</code> function to make sure that a vault does not already exist for the gauge you want to create</p>
</li>
</ol>
<img src="https://i.imgur.com/RBS2DIq.png" width="500">
<ol start="3">
<li>Call <code>createNewVaultsAndStrategies()</code> to create a new permissionless vault.</li>
</ol>
<img src="https://i.imgur.com/2bMxjU0.png" width="500">
<ol start="4">
<li>Now your new Yearn Vault will be deployed and you can sit back while it auto-compounds your rewards into more of your Curve lp position.</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-09-26T20:20:18.000Z" itemprop="dateModified">Sep 26, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/developers/v2/DEPLOYMENT"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Deploying a Vault and Strategy V2</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/developers/v2/SPECIFICATION"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Yearn System Specification</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#harvests-traditional-vs-factory-strategies" class="table-of-contents__link toc-highlight">Harvests: Traditional vs. Factory Strategies</a><ul><li><a href="#traditional-strategies" class="table-of-contents__link toc-highlight">Traditional Strategies</a></li><li><a href="#factory-strategies" class="table-of-contents__link toc-highlight">Factory Strategies</a></li><li><a href="#calling-harvest" class="table-of-contents__link toc-highlight">Calling Harvest</a></li></ul></li><li><a href="#curve-lp-tokens" class="table-of-contents__link toc-highlight">Curve LP Tokens</a><ul><li><a href="#curve-strategies" class="table-of-contents__link toc-highlight">Curve Strategies</a></li></ul></li><li><a href="#velodrome-lp-tokens" class="table-of-contents__link toc-highlight">Velodrome LP Tokens</a></li><li><a href="#balancer-lp-tokens" class="table-of-contents__link toc-highlight">Balancer LP Tokens</a><ul><li><a href="#balancer-strategies" class="table-of-contents__link toc-highlight">Balancer Strategies</a></li></ul></li><li><a href="#aerodrome-lp-tokens" class="table-of-contents__link toc-highlight">Aerodrome LP Tokens</a></li><li><a href="#determine-accumulated-rewards" class="table-of-contents__link toc-highlight">Determine Accumulated Rewards</a><ul><li><a href="#curve-strategy" class="table-of-contents__link toc-highlight">Curve Strategy</a></li><li><a href="#convex-and-convex-frax-strategies" class="table-of-contents__link toc-highlight">Convex and Convex Frax Strategies</a></li></ul></li><li><a href="#contracts" class="table-of-contents__link toc-highlight">Contracts</a><ul><li><a href="#ethereum" class="table-of-contents__link toc-highlight">Ethereum</a></li><li><a href="#optimism" class="table-of-contents__link toc-highlight">Optimism</a></li><li><a href="#base" class="table-of-contents__link toc-highlight">Base</a></li></ul></li><li><a href="#create-with-ui" class="table-of-contents__link toc-highlight">Create with UI</a></li><li><a href="#create-from-contract" class="table-of-contents__link toc-highlight">Create from Contract</a></li></ul></div></div></div></div></main></div></div></div> </div>
</body>
</html>