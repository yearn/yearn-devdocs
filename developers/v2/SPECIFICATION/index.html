<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-developers docs-version-current docs-doc-page docs-doc-id-v2/SPECIFICATION" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Yearn System Specification | Yearn Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://docs.yearn.fi/img/YFILogoGradient.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.yearn.fi/img/YFILogoGradient.jpg"><meta data-rh="true" property="og:url" content="https://docs.yearn.fi/developers/v2/SPECIFICATION"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="Yearn Finance is a suite of products in Decentralized Finance (DeFi) that provides lending aggregation, yield generation, and insurance on the Ethereum blockchain."><meta data-rh="true" name="git-url" content="https://github.com/yearn/yearn-devdocs"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-developers-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-developers-current"><meta data-rh="true" property="og:title" content="Yearn System Specification | Yearn Docs"><meta data-rh="true" name="description" content="Definitions"><meta data-rh="true" property="og:description" content="Definitions"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.yearn.fi/developers/v2/SPECIFICATION"><link data-rh="true" rel="alternate" href="https://docs.yearn.fi/developers/v2/SPECIFICATION" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.yearn.fi/developers/v2/SPECIFICATION" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://UNKNOWN-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Yearn Docs" href="/opensearch.xml">





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.6146f147.css">
<script src="/assets/js/runtime~main.43fe101d.js" defer="defer"></script>
<script src="/assets/js/main.49ade684.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="YFI Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="YFI Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/getting-started/intro">User Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/developers/building-on-yearn">Dev Docs</a><a class="navbar__item navbar__link" href="/contributing/introduction">DAO Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://blog.yearn.fi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a href="https://discord.gg/b8ENPNqG5c" target="_blank" rel="noopener noreferrer" class="dropdown__link">Discord<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://x.com/yearnfi" target="_blank" rel="noopener noreferrer" class="dropdown__link">Twitter<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://t.me/yearnfinance/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Telegram<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://medium.com/iearn" target="_blank" rel="noopener noreferrer" class="dropdown__link">Medium<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://gov.yearn.fi" target="_blank" rel="noopener noreferrer" class="dropdown__link">Governance Forum<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://snapshot.org/#/veyfi.eth" target="_blank" rel="noopener noreferrer" class="dropdown__link">Snapshot Voting<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/yearn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://yearn.fi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-yearn-link" aria-label="yearn.fi"></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/developers/building-on-yearn">Building on Yearn</a><button aria-label="Collapse sidebar category &#x27;Building on Yearn&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/developers/v3/overview">yVaults</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/developers/v3/overview">yVaults v3</a><button aria-label="Expand sidebar category &#x27;yVaults v3&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/developers/v2/getting-started">yVaults v2</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/getting-started">Getting Started with Vaults and Strategies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/DEPLOYMENT">Deploying a Vault and Strategy V2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/vault-factory">Vault Factory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/developers/v2/SPECIFICATION">Yearn System Specification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/OPERATIONS">Operations procedures</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/additional-resources">Additional Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a href="https://docs.yearn.fi/developers/addresses/v2-contracts" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">v2 Contract Addresses →<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a href="https://docs.yearn.fi/developers/smart-contracts/v2/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Smart Contracts →<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/developers/v1/introduction">yVaults v1</a><button aria-label="Expand sidebar category &#x27;yVaults v1&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/naming-convention">Naming Conventions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/developers/data-services/yearn-data">Yearn Data Services</a><button aria-label="Expand sidebar category &#x27;Yearn Data Services&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/developers/front-end-development">Front End Development</a><button aria-label="Expand sidebar category &#x27;Front End Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/developers/v2/yswaps">Other Stuff</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 divider"><hr></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/developers/addresses/">Token and Contract Addresses</a><button aria-label="Expand sidebar category &#x27;Token and Contract Addresses&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 divider"><hr></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/developers/smart-contracts/">Smart Contracts</a><button aria-label="Expand sidebar category &#x27;Smart Contracts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 divider"><hr></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/developers/security/">Security</a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Yearn System Specification</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="definitions">Definitions<a href="#definitions" class="hash-link" aria-label="Direct link to Definitions" title="Direct link to Definitions">​</a></h2>
<ul>
<li>Governance: YFI token governance system</li>
<li>Treasury: Yearn rewards mechanism/protocol dev fund</li>
<li>Vault: Only user touch-point, manages funds</li>
<li>Strategy: Complex external interactions w/ limited access to Vault</li>
<li>Strategist: original creator of strategy, is in charge of monitoring its position for adverse effects.</li>
<li>Registry: On-chain registry of deployed Vaults for tokens, indexed by API version</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="vault-specification">Vault Specification<a href="#vault-specification" class="hash-link" aria-label="Direct link to Vault Specification" title="Direct link to Vault Specification">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="definitions-1">Definitions<a href="#definitions-1" class="hash-link" aria-label="Direct link to Definitions" title="Direct link to Definitions">​</a></h3>
<ul>
<li>Management: Trusted with privileged access for limited operations (ensuring performance of Vaults)</li>
<li>Guardian: Trusted with privileged access for limited operations (ensuring safety of Vaults)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="normal-operation">Normal Operation<a href="#normal-operation" class="hash-link" aria-label="Direct link to Normal Operation" title="Direct link to Normal Operation">​</a></h3>
<p>NOTE: Users should only withdraw &quot;free&quot; assets as some strategies need to divest &quot;gracefully&quot;, and a large withdrawal could incur a loss, which will get passed back to the withdrawer.</p>
<p>NOTE: &quot;free&quot; assets in the Vault means the amount the Vault has freely available (e.g. not invested in Strategies)</p>
<p>NOTE: The strategy can also revoke itself during normal operation of the Vault, but this behavior only occurs during &quot;Emergency Exit&quot; mode.</p>
<ol>
<li>A User is able to deposit an amount of the single asset the Vault accepts in exchange for shares of the Vault&#x27;s underlying assets, depending on the Vault&#x27;s deposit configuration.</li>
<li>A User is able to withdraw an amount of tokens represented by their shares up to the total available amount that can be withdrawn from the combination of the Vault&#x27;s overhead, and what can be forcibly withdrawn from all the strategies with debt to the Vault that have been pre-authorized for withdrawals in the Vault&#x27;s withdrawal queue.</li>
<li>A User is able to transfer any amount of their Vault shares to anyone else.</li>
<li>Only Governance can approve Strategies to interact with Vaults and take on debt.</li>
<li>Governance can set the Management role to another account, without their permission.</li>
<li>Either Governance or Management can modify the parameters of a Strategy&#x27;s borrowing capabilities.</li>
<li>Either Governance or Management can reconfigure the strategies in the withdrawal queue.</li>
<li>Only Governance can migrate a Strategy, and their current capital and debt, to a newer version of the Strategy.</li>
<li>Governance can set the Guardian role to another account, without their permission.</li>
<li>Either the Guardian or Governance can revoke a Strategy from borrowing any more assets from the Vault and trigger a divestment of that Strategy.</li>
<li>Either the Guardian or Governance can trigger the Vault to enter Emergency Shutdown Mode and trigger a divestment from all connected Strategies.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fees">Fees<a href="#fees" class="hash-link" aria-label="Direct link to Fees" title="Direct link to Fees">​</a></h3>
<ol>
<li>The Treasury (which benefits Governance) collects a &quot;management fee&quot; based on the total assets the Vault has over a period of time, assessed each time the Strategy interacts with the Vault, and is provided as newly minted shares to the Treasury.</li>
<li>The Treasury (which benefits Governance) collects a &quot;performance fee&quot; based on the amount of returns a Strategy produces during Normal Operation, assessed each time the Strategy interacts with the Vault, and is provided as newly minted shares to the Treasury.</li>
<li>Each Strategist collects a &quot;performance fee&quot; based on the amount of positive returns their Strategy produces during Normal Operation, assessed each time the Strategy interacts with the Vault, and is provided as newly minted shares to the Strategist.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="profit-distribution">Profit distribution<a href="#profit-distribution" class="hash-link" aria-label="Direct link to Profit distribution" title="Direct link to Profit distribution">​</a></h3>
<p>Once a strategy is harvested, the gains are distributed during 6 hours.
This is to prevent sandwich attacks of an account depositing tokens right before the harvest and withdrawing right after and getting the profits without staying in the vault.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="oracle">Oracle<a href="#oracle" class="hash-link" aria-label="Direct link to Oracle" title="Direct link to Oracle">​</a></h3>
<p>Yearn vaults aren&#x27;t using any oracles.
The vault doesn’t rely on oracle because it doesn’t require a price information, it’s not lending, exchanging assets,</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="emergency-shutdown-mode">Emergency Shutdown Mode<a href="#emergency-shutdown-mode" class="hash-link" aria-label="Direct link to Emergency Shutdown Mode" title="Direct link to Emergency Shutdown Mode">​</a></h3>
<p>NOTE: During Emergency Shutdown mode of the Vault, the intention is for the Vault to recall the debt as quickly as reasonable (given on-chain conditions) with minimal losses, and open up deposits to be withdrawn by Users as easily as possible. There is no restrictions on withdrawals above what is expected under Normal Operation.</p>
<ol>
<li>During Emergency Shutdown, no Users may deposit into the Vault.</li>
<li>During Emergency Shutdown, Governance cannot add new Strategies.</li>
<li>During Emergency Shutdown, the Vault should communicate to each Strategy to return their entire position as quickly as reasonable, with minimal impact to their positions (Normal Operation).</li>
<li>Only Governance can exit Emergency Shutdown Mode.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="strategy-specification">Strategy Specification<a href="#strategy-specification" class="hash-link" aria-label="Direct link to Strategy Specification" title="Direct link to Strategy Specification">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="definitions-2">Definitions<a href="#definitions-2" class="hash-link" aria-label="Direct link to Definitions" title="Direct link to Definitions">​</a></h3>
<ul>
<li>Keeper: a bot which maintains the strategy, by ensuring it regularly generates returns for the Vault during pre-defined intervals or events</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="normal-operation-1">Normal Operation<a href="#normal-operation-1" class="hash-link" aria-label="Direct link to Normal Operation" title="Direct link to Normal Operation">​</a></h3>
<p>NOTE: Triggers must be defined for the interval(s) allowable without causing instability to the Strategy&#x27;s position</p>
<p>NOTE: Updates must not trigger an instability in the Vault, especially when considering other Strategies&#x27; update frequencies</p>
<ol>
<li>The Strategy can interact with its connected Vault, and obtain capital according to its current borrowing limit.</li>
<li>The Strategy can interact with any external system required to turn the capital borrowed into returns for the Vault</li>
<li>The Strategy defines triggers for either Governance, the Strategist, or the Keeper to use as a signal to update or adjust its position(s).</li>
<li>The Strategy defines triggers for either Governance, the Strategist, or the Keeper to use as a signal to take profits and report to the Vault.</li>
<li>Either Governance or the Vault can migrate the positions of the Strategy to another Strategy.</li>
<li>Either Governance or the Strategist can trigger the Strategy to enter into Emergency Exit Mode.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="emergency-exit-mode">Emergency Exit Mode<a href="#emergency-exit-mode" class="hash-link" aria-label="Direct link to Emergency Exit Mode" title="Direct link to Emergency Exit Mode">​</a></h3>
<p>NOTE: In this mode, the Strategy defines a reversionary set of actions that seek to unwind and divest funds back to the Vault as quickly and smoothly as possible, with as minimal losses as possible.</p>
<ol>
<li>During Emergency Exit, the Strategy cannot take new debt from the connected Vault.</li>
<li>During Emergency Exit, the Strategy can still interact with any external system, but must be able to handle any failure(s) of each of those system(s) as well as possible.</li>
<li>There is no condition that can revert Emergency Exit Mode once it is entered.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="registry-specification">Registry Specification<a href="#registry-specification" class="hash-link" aria-label="Direct link to Registry Specification" title="Direct link to Registry Specification">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="normal-operation-2">Normal Operation<a href="#normal-operation-2" class="hash-link" aria-label="Direct link to Normal Operation" title="Direct link to Normal Operation">​</a></h3>
<p>NOTE: The Registry allows an on-chain reference for Vault deployment events, to be used with external integrations. It is also possible to reconstruct the deployment and release history via on-chain calls.</p>
<p>NOTE: The API version of each Vault deployment for a token should increase according to <a href="https://semver.org/" target="_blank" rel="noopener noreferrer">Semantic Versioning</a>. However, this is not practically enforced.</p>
<ol>
<li>Only Governance can register a new release for future Vaults to use when deploying via proxy deployment.</li>
<li>Anyone can deploy a proxy deployment Vault, using the latest release, for experimental purposes</li>
<li>Only Governance can endorse a Vault deployment for a given token with the latest release.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="governance-specification">Governance Specification<a href="#governance-specification" class="hash-link" aria-label="Direct link to Governance Specification" title="Direct link to Governance Specification">​</a></h2>
<p>NOTE: Governance is expected to manage each deployed Vault and the strategies connected to them in order to maintain the risk and returns that Vault users expect</p>
<ol>
<li>Governance must be able to perform the calls expected for it to manage the Vaults and Strategies it maintains.</li>
<li>Any actions that require the exclusive action by Governance must be able to be accomplished safely within a reasonable timeframe.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="treasury-specification">Treasury Specification<a href="#treasury-specification" class="hash-link" aria-label="Direct link to Treasury Specification" title="Direct link to Treasury Specification">​</a></h2>
<p>NOTE: Rewards are given as shares of each Vault, which are redeemable for the underlying token that the Vault is wrapping.</p>
<p>NOTE: It is up to the design of the Treasury to unwrap and further account for the share of the underlying awarded to governance participants, and the other parties in the Yearn ecosystem (including keeper gas fees, protocol development and maintenance costs, etc.)</p>
<p>NOTE: The Treasury system could leverage the Vault design, with strategies that just market sell the rewards for YFI.</p>
<ol>
<li>The Treasury should incentivize proper management of the Vault by Governance, optimizing for stability of returns over long periods of time, minimizing risk, and encouraging growth of deposits.</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-02-24T08:33:37.000Z" itemprop="dateModified">Feb 24, 2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/developers/v2/vault-factory"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Vault Factory</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/developers/v2/OPERATIONS"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Operations procedures</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#definitions" class="table-of-contents__link toc-highlight">Definitions</a></li><li><a href="#vault-specification" class="table-of-contents__link toc-highlight">Vault Specification</a><ul><li><a href="#definitions-1" class="table-of-contents__link toc-highlight">Definitions</a></li><li><a href="#normal-operation" class="table-of-contents__link toc-highlight">Normal Operation</a></li><li><a href="#fees" class="table-of-contents__link toc-highlight">Fees</a></li><li><a href="#profit-distribution" class="table-of-contents__link toc-highlight">Profit distribution</a></li><li><a href="#oracle" class="table-of-contents__link toc-highlight">Oracle</a></li><li><a href="#emergency-shutdown-mode" class="table-of-contents__link toc-highlight">Emergency Shutdown Mode</a></li></ul></li><li><a href="#strategy-specification" class="table-of-contents__link toc-highlight">Strategy Specification</a><ul><li><a href="#definitions-2" class="table-of-contents__link toc-highlight">Definitions</a></li><li><a href="#normal-operation-1" class="table-of-contents__link toc-highlight">Normal Operation</a></li><li><a href="#emergency-exit-mode" class="table-of-contents__link toc-highlight">Emergency Exit Mode</a></li></ul></li><li><a href="#registry-specification" class="table-of-contents__link toc-highlight">Registry Specification</a><ul><li><a href="#normal-operation-2" class="table-of-contents__link toc-highlight">Normal Operation</a></li></ul></li><li><a href="#governance-specification" class="table-of-contents__link toc-highlight">Governance Specification</a></li><li><a href="#treasury-specification" class="table-of-contents__link toc-highlight">Treasury Specification</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>