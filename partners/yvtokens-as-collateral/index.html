<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-partners docs-version-current docs-doc-page docs-doc-id-yvtokens-as-collateral" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">yvToken as Collateral | Yearn Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://docs.yearn.fi/img/YFILogoGradient.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.yearn.fi/img/YFILogoGradient.jpg"><meta data-rh="true" property="og:url" content="https://docs.yearn.fi/partners/yvtokens-as-collateral"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="Yearn Finance is a suite of products in Decentralized Finance (DeFi) that provides lending aggregation, yield generation, and insurance on the Ethereum blockchain."><meta data-rh="true" name="git-url" content="https://github.com/yearn/yearn-devdocs"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-partners-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-partners-current"><meta data-rh="true" property="og:title" content="yvToken as Collateral | Yearn Docs"><meta data-rh="true" name="description" content="Overview of Yearn Vaults as Collateral"><meta data-rh="true" property="og:description" content="Overview of Yearn Vaults as Collateral"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.yearn.fi/partners/yvtokens-as-collateral"><link data-rh="true" rel="alternate" href="https://docs.yearn.fi/partners/yvtokens-as-collateral" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.yearn.fi/partners/yvtokens-as-collateral" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://UNKNOWN-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Yearn Docs" href="/opensearch.xml">





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.45f749d4.css">
<script src="/assets/js/runtime~main.064bd6f3.js" defer="defer"></script>
<script src="/assets/js/main.d7777357.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="YFI Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="YFI Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/getting-started/intro">User Docs</a><a class="navbar__item navbar__link" href="/developers/building-on-yearn">Dev Docs</a><a class="navbar__item navbar__link" href="/contributing/introduction">DAO Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://blog.yearn.fi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a href="https://discord.gg/b8ENPNqG5c" target="_blank" rel="noopener noreferrer" class="dropdown__link">Discord<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://x.com/yearnfi" target="_blank" rel="noopener noreferrer" class="dropdown__link">Twitter<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://t.me/yearnfinance/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Telegram<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://medium.com/iearn" target="_blank" rel="noopener noreferrer" class="dropdown__link">Medium<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://gov.yearn.fi" target="_blank" rel="noopener noreferrer" class="dropdown__link">Governance Forum<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://snapshot.org/#/veyfi.eth" target="_blank" rel="noopener noreferrer" class="dropdown__link">Snapshot Voting<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/yearn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://yearn.fi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-yearn-link" aria-label="yearn.fi"></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/partners/introduction">Partnership Program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/partners/integration_guide">Integration Methods</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/partners/partner-tracker">Templates</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/partners/submit_pr">Submit a Pull Request</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/partners/yvtokens-as-collateral">yvToken as Collateral</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>yvToken as Collateral</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview-of-yearn-vaults-as-collateral">Overview of Yearn Vaults as Collateral<a href="#overview-of-yearn-vaults-as-collateral" class="hash-link" aria-label="Direct link to Overview of Yearn Vaults as Collateral" title="Direct link to Overview of Yearn Vaults as Collateral">​</a></h2>
<p>Yearn vault tokens are yield-generating wrappers around underlying assets.
Ideally, they are a great way to hold collateral because they are secure and grow in value over time rather than remaining as idle capital.</p>
<p>However, there are some risks to consider with some implementations of Yearn vaults before onboarding them as a collateral type in lending markets.</p>
<p>Aside from obvious risks involved with smart contracts (including the vault contract itself, it’s strategies, and protocols farmed by the strategy), lending protocols should also study the risks involved with how a vault’s pricePerShare is calculated, as this function is important in computing the vault token’s value.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-use-yvtokens-as-collateral">Why Use yvTokens as Collateral?<a href="#why-use-yvtokens-as-collateral" class="hash-link" aria-label="Direct link to Why Use yvTokens as Collateral?" title="Direct link to Why Use yvTokens as Collateral?">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="theyre-yield-generating">They’re Yield Generating<a href="#theyre-yield-generating" class="hash-link" aria-label="Direct link to They’re Yield Generating" title="Direct link to They’re Yield Generating">​</a></h3>
<p>A Yearn Vault token is a yield-bearing version of a token, so when locked up as collateral it will still generate yield. A single vault token can run up to 20 yield-generating strategies. All Vaults at <a href="https://yearn.fi/#/vaults" target="_blank" rel="noopener noreferrer">yearn.fi</a> run &quot;up-only&quot; strategies.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-safest-yields-in-defi">The Safest Yields in DeFi<a href="#the-safest-yields-in-defi" class="hash-link" aria-label="Direct link to The Safest Yields in DeFi" title="Direct link to The Safest Yields in DeFi">​</a></h3>
<p>Vaults strategies are constantly audited to practice the highest security standards of DeFi. Grow with us one day at a time. More information at:</p>
<ul>
<li><a href="https://docs.yearn.fi/developers/v2/DEPLOYMENT" target="_blank" rel="noopener noreferrer">Vaults &amp; Strategies Deployment Security Guidelines</a></li>
<li><a href="https://messari.io/article/yearning-for-yearn" target="_blank" rel="noopener noreferrer">Yearning for Yearn: Messari Report</a></li>
<li><a href="https://github.com/yearn/yearn-security/blob/master/SECURITY.md" target="_blank" rel="noopener noreferrer">Yearn Security Processes</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="theyre-erc20-compatible">They’re ERC20 Compatible<a href="#theyre-erc20-compatible" class="hash-link" aria-label="Direct link to They’re ERC20 Compatible" title="Direct link to They’re ERC20 Compatible">​</a></h3>
<p>yvTokens are <a href="https://ethereum.org/en/developers/docs/standards/tokens/erc-20/" target="_blank" rel="noopener noreferrer">ERC-20</a> compatible (like any other commonly expected token), there is no code security overhead for developers to implement any yvToken as a new option for collateral.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="v3-vaults-are-erc4626-compatible">V3 vaults are ERC4626 Compatible<a href="#v3-vaults-are-erc4626-compatible" class="hash-link" aria-label="Direct link to V3 vaults are ERC4626 Compatible" title="Direct link to V3 vaults are ERC4626 Compatible">​</a></h3>
<p>V3 yvTokens are <a href="https://eips.ethereum.org/EIPS/eip-4626" target="_blank" rel="noopener noreferrer">ERC-4626</a> compatible, there is no code security overhead for developers to implement any yvToken as a new option for collateral.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="many-are-almost-100-liquid">Many are Almost 100% Liquid<a href="#many-are-almost-100-liquid" class="hash-link" aria-label="Direct link to Many are Almost 100% Liquid" title="Direct link to Many are Almost 100% Liquid">​</a></h3>
<p>In most Yearn vaults strategies that lock tokens are kept to a minimum amount of time. To learn more about strategy and fund allocation visit <a href="https://seafood.yearn.watch/" target="_blank" rel="noopener noreferrer">seafood.yearn.watch</a> for a look into what&#x27;s going on right now.</p>
<p>Some vaults do implement strategies that will be less liquid and integrators should be aware of the stated goals of the vault they are integrating before hand.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="theyre-transparent">They’re Transparent<a href="#theyre-transparent" class="hash-link" aria-label="Direct link to They’re Transparent" title="Direct link to They’re Transparent">​</a></h3>
<p>What you see on-chain is what you get. For real-time protocol data see:</p>
<ul>
<li><a href="https://seafood.yearn.watch/" target="_blank" rel="noopener noreferrer">seafood.yearn.watch</a></li>
<li><a href="https://medium.com/iearn/diving-into-yearn-metrics-8c3fb0520927" target="_blank" rel="noopener noreferrer">diving into yearn metrics</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="projects-using-yvtokens-as-collateral">Projects Using yvTokens as Collateral<a href="#projects-using-yvtokens-as-collateral" class="hash-link" aria-label="Direct link to Projects Using yvTokens as Collateral" title="Direct link to Projects Using yvTokens as Collateral">​</a></h2>
<ul>
<li>Alchemix: <a href="https://alchemix.fi/" target="_blank" rel="noopener noreferrer">https://alchemix.fi/</a></li>
<li>Abracadabra: <a href="https://abracadabra.money/" target="_blank" rel="noopener noreferrer">https://abracadabra.money/</a></li>
<li>Gearbox: <a href="https://gearbox.fi/" target="_blank" rel="noopener noreferrer">https://gearbox.fi/</a></li>
<li>QiDao: <a href="https://app.mai.finance/" target="_blank" rel="noopener noreferrer">https://app.mai.finance/</a></li>
<li>Ribbon: <a href="https://www.ribbon.finance/" target="_blank" rel="noopener noreferrer">https://www.ribbon.finance/</a></li>
<li>Sturdy: <a href="https://sturdy.finance/" target="_blank" rel="noopener noreferrer">https://sturdy.finance/</a></li>
<li>Tempus: <a href="https://tempus.finance/" target="_blank" rel="noopener noreferrer">https://tempus.finance/</a></li>
</ul>
<p>To learn more reach out through twitter, telegram or discord.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="oracle-safety-and-pricepershare-calculations">Oracle Safety and PricePerShare Calculations<a href="#oracle-safety-and-pricepershare-calculations" class="hash-link" aria-label="Direct link to Oracle Safety and PricePerShare Calculations" title="Direct link to Oracle Safety and PricePerShare Calculations">​</a></h2>
<p>Critical to the safety of integrating yvTokens is the ability of an attacker to affect pricePerShare of the vault being used..</p>
<p>Beginning in API version 0.4.4, Yearn vaults introduced a feature called “Airdrop Protection”, which prevents pricePerShare changes when tokens are transferred directly to the vault contract. This practice is continued into V3 on both the multi strategy and single strategy vaults.</p>
<p>While the airdrop protection limits the majority of pricePerShare concerns, both Yearn v2 and v3 vaults follow similar rounding practices from common vault standards that can lead to PPS inflation attacks seen in other protocols recently through &quot;stealth donations&quot;.</p>
<p><a href="https://www.euler.finance/blog/exchange-rate-manipulation-in-erc4626-vaults" target="_blank" rel="noopener noreferrer">Read More</a> about known issues with vault exchange rate manipulation.</p>
<p>It is important to note that, as of now, it seems effects of these type of attacks are only meaningful when vaults are almost or entirely empty of assets.</p>
<p>Out of an abundance of caution anyone using a Yearn vault as collateral should be aware of this and take any needed steps to assure the health of their system.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="concerns">Concerns<a href="#concerns" class="hash-link" aria-label="Direct link to Concerns" title="Direct link to Concerns">​</a></h2>
<ul>
<li>A vault is empty or almost empty</li>
<li>A vault is held almost entirely by one entity</li>
<li>The majority of outstanding vault shares can be flash loaned or borrowed</li>
<li>The amount available to borrow is priced purely by the current <code>pricePerShare</code> with no extra checks</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="suggestions">Suggestions<a href="#suggestions" class="hash-link" aria-label="Direct link to Suggestions" title="Direct link to Suggestions">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vault-tokens-with-api-version--v043">Vault Tokens with API Version &lt;= v0.4.3<a href="#vault-tokens-with-api-version--v043" class="hash-link" aria-label="Direct link to Vault Tokens with API Version &lt;= v0.4.3" title="Direct link to Vault Tokens with API Version &lt;= v0.4.3">​</a></h3>
<ul>
<li>Not recommended for protocols without isolated lending markets and configurable borrow limits</li>
<li>Not recommended for vaults with low TVL</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vault-tokens-with-api-version--v044-and-all-v3-vaults">Vault Tokens with API Version &gt;= v0.4.4 and all V3 vaults<a href="#vault-tokens-with-api-version--v044-and-all-v3-vaults" class="hash-link" aria-label="Direct link to Vault Tokens with API Version &gt;= v0.4.4 and all V3 vaults" title="Direct link to Vault Tokens with API Version &gt;= v0.4.4 and all V3 vaults">​</a></h3>
<ul>
<li>Limit use of vaults that have 0 or almost 0 assets.</li>
<li>Do not allow vaults to be flash loaned or borrowed.</li>
<li>Limit use of vaults who have one majority owner of the shares.</li>
<li>Be mindful that PricePerShare may be subject to significant change within a single block. Treat the pricePerShare of the vault as you would other touch values.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hacks-history">Hacks History<a href="#hacks-history" class="hash-link" aria-label="Direct link to Hacks History" title="Direct link to Hacks History">​</a></h2>
<p>The <a href="https://github.com/yearn/yearn-security/blob/master/disclosures/2021-10-27.md" target="_blank" rel="noopener noreferrer">CREAM hack in 2021</a> proved that without proper care, an attacker could trick the lending market into thinking they have a far larger position than reality. This led to a tragic $130M loss for the protocol. Technical reference: <a href="https://mudit.blog/cream-hack-analysis/" target="_blank" rel="noopener noreferrer">https://mudit.blog/cream-hack-analysis/</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="disclaimer">Disclaimer<a href="#disclaimer" class="hash-link" aria-label="Direct link to Disclaimer" title="Direct link to Disclaimer">​</a></h2>
<p>Although this document presents some suggestions for integrating yearn vaults into your protocol it is NOT an exhaustive list and does not guarantee any outcomes or safety.</p>
<p>It&#x27;s strongly advised that any integration&#x27;s with Yearn vaults be reviewed/audited by experienced security professionals within the context of your specific use case and consider past attacks to similar vault contracts and implementations.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-06-07T13:56:02.000Z" itemprop="dateModified">Jun 7, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/partners/submit_pr"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Submit a Pull Request</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview-of-yearn-vaults-as-collateral" class="table-of-contents__link toc-highlight">Overview of Yearn Vaults as Collateral</a></li><li><a href="#why-use-yvtokens-as-collateral" class="table-of-contents__link toc-highlight">Why Use yvTokens as Collateral?</a><ul><li><a href="#theyre-yield-generating" class="table-of-contents__link toc-highlight">They’re Yield Generating</a></li><li><a href="#the-safest-yields-in-defi" class="table-of-contents__link toc-highlight">The Safest Yields in DeFi</a></li><li><a href="#theyre-erc20-compatible" class="table-of-contents__link toc-highlight">They’re ERC20 Compatible</a></li><li><a href="#v3-vaults-are-erc4626-compatible" class="table-of-contents__link toc-highlight">V3 vaults are ERC4626 Compatible</a></li><li><a href="#many-are-almost-100-liquid" class="table-of-contents__link toc-highlight">Many are Almost 100% Liquid</a></li><li><a href="#theyre-transparent" class="table-of-contents__link toc-highlight">They’re Transparent</a></li></ul></li><li><a href="#projects-using-yvtokens-as-collateral" class="table-of-contents__link toc-highlight">Projects Using yvTokens as Collateral</a></li><li><a href="#oracle-safety-and-pricepershare-calculations" class="table-of-contents__link toc-highlight">Oracle Safety and PricePerShare Calculations</a></li><li><a href="#concerns" class="table-of-contents__link toc-highlight">Concerns</a></li><li><a href="#suggestions" class="table-of-contents__link toc-highlight">Suggestions</a><ul><li><a href="#vault-tokens-with-api-version--v043" class="table-of-contents__link toc-highlight">Vault Tokens with API Version &lt;= v0.4.3</a></li><li><a href="#vault-tokens-with-api-version--v044-and-all-v3-vaults" class="table-of-contents__link toc-highlight">Vault Tokens with API Version &gt;= v0.4.4 and all V3 vaults</a></li></ul></li><li><a href="#hacks-history" class="table-of-contents__link toc-highlight">Hacks History</a></li><li><a href="#disclaimer" class="table-of-contents__link toc-highlight">Disclaimer</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>